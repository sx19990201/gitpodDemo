(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1797],{46534:function(e,n,t){"use strict";t.d(n,{Lj:function(){return s},kC:function(){return r},td:function(){return a},xb:function(){return l}});var r=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""},s=function(e){return e==e.toUpperCase()&&e!=e.toLowerCase()},l=function(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e||!e)return"0 Bytes";var t=1024,r=n<0?0:n,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(e)/Math.log(t));return"".concat(parseFloat((e/Math.pow(t,l)).toFixed(r))," ").concat(s[l])}},61384:function(e,n,t){"use strict";var r=t(57265),s=(0,r.createFromIconfontCN)({scriptUrl:"/iconfont/iconfont.js"});n.Z=s},75914:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ye}});t(98565);var r=t(62301),s=t(95513),l=t(76425),a=t.n(l),i=t(79685),c=t(39986),o=t(59682),d=t(61384),u=(t(22694),t(1980)),f=(t(68158),t(29094)),x=(t(61258),t(31333)),m=(t(14850),t(71887)),h=t(77266),p=t(91863),j=(0,i.createContext)([]),v=(0,i.createContext)({}),b=(0,i.createContext)({}),y=(0,i.createContext)({}),g=t(55899),k=t.n(g),Z=t(63342);function N(e){var n=e.content,t=(0,i.useContext)(y).handleSwitch,r=(0,c.x)(!1),l=(0,s.Z)(r,2),a=l[0],o=l[1],d=(0,i.useMemo)((function(){return null===n||void 0===n?void 0:n.config}),[null===n||void 0===n?void 0:n.config]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"pb-2 flex items-center justify-between border-gray border-b",children:[(0,Z.jsx)("div",{children:(0,Z.jsx)("span",{className:"text-base leading-5 font-bold",children:"\u8bbe\u7f6e"})}),(0,Z.jsxs)("div",{className:"flex justify-center items-center",children:[(0,Z.jsx)(m.Z,{defaultChecked:0!=(null===n||void 0===n?void 0:n.switch),checkedChildren:"\u5f00\u542f",unCheckedChildren:"\u5173\u95ed",onChange:function(){console.log("switch change")},className:k()["switch-check-btn"]}),(0,Z.jsx)(x.Z,{type:"vertical"}),(0,Z.jsx)(f.default,{className:"".concat(k()["save-btn"],"  ml-4"),onClick:function(){return t("form",null===n||void 0===n?void 0:n.id)},children:(0,Z.jsx)("span",{children:"\u7f16\u8f91"})})]})]}),(0,Z.jsx)("div",{className:"mt-8",children:(0,Z.jsxs)(u.default,{bordered:!0,column:1,size:"small",labelStyle:{color:"#5F6269",backgroundColor:"white",width:"30%",borderRight:"none",borderBottom:"none"},children:[(0,Z.jsx)(u.default.Item,{label:"\u540d\u79f0",children:null===n||void 0===n?void 0:n.name}),(0,Z.jsx)(u.default.Item,{label:"\u670d\u52a1\u5730\u5740",children:null===d||void 0===d?void 0:d.endpoint}),(0,Z.jsxs)(u.default.Item,{label:"APP ID",children:[null===d||void 0===d?void 0:d.accessKeyID," "]}),(0,Z.jsx)(u.default.Item,{label:"APP Secret",children:(0,Z.jsx)("span",{children:a?(0,Z.jsxs)("div",{children:[null===d||void 0===d?void 0:d.secretAccessKey,(0,Z.jsx)(h.Z,{className:"ml-6 cursor-pointer",onClick:function(){return o(!a)}})]}):(0,Z.jsxs)("div",{children:[null===d||void 0===d?void 0:d.secretAccessKey.replaceAll(/./g,"*"),(0,Z.jsx)(p.Z,{className:"ml-6 cursor-pointer",onClick:function(){return o(!a)}})]})})}),(0,Z.jsx)(u.default.Item,{label:"\u533a\u57df",children:null===d||void 0===d?void 0:d.bucketLocation}),(0,Z.jsx)(u.default.Item,{label:"bucketName",children:null===d||void 0===d?void 0:d.bucketName}),(0,Z.jsx)(u.default.Item,{label:"\u5f00\u542fSSL",children:null!==d&&void 0!==d&&d.useSSL?(0,Z.jsx)(f.default,{className:k()["ssl-open-btn"],children:"\u5f00\u542f"}):(0,Z.jsx)(f.default,{className:k()["ssl-close-btn"],children:"\u5173\u95ed"})})]})})]})}t(69147);var _=t(23948),w=(t(79353),t(86400)),O=(t(24e3),t(49164)),C=(t(17016),t(8607)),P=(t(85800),t(41503)),I=(t(89013),t(65541)),S=(t(48387),t(40379)),F=(t(52201),t(8860)),D=t(37216),B=t(77227),E=(t(68123),t(77423)),L=t(78818),T=(t(47418),t(84283)),A=t(50724),M=t.n(A),z=t(23719),U=t(22061),K=t(522),R=t(49096),V=t(75988),q=t(98758),H=t(14187),W=t(24530),X=t.n(W),G=t(86669),Y=t(46534),Q=t(18979),J=t.n(Q);function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(Object(t),!0).forEach((function(n){(0,L.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ne=T.Z.Panel;function te(e){var n,t,r,l,a=e.bucketId,o=(0,c.x)(!0),u=(0,s.Z)(o,2),m=u[0],h=u[1],p=(0,c.x)(!1),j=(0,s.Z)(p,2),v=j[0],b=j[1],y=(0,c.x)(!1),g=(0,s.Z)(y,2),k=g[0],N=g[1],L=(0,c.x)(null),A=(0,s.Z)(L,2),W=A[0],Q=A[1],$=(0,c.x)(void 0),te=(0,s.Z)($,2),re=te[0],se=te[1],le=(0,c.x)(["/"]),ae=(0,s.Z)(le,2),ie=ae[0],ce=ae[1],oe=(0,c.x)(!1),de=(0,s.Z)(oe,2),ue=de[0],fe=de[1],xe=(0,i.useMemo)((function(){var e,n;return null!==re&&void 0!==re&&re.isLeaf?null!==(e=re.value.split("/").slice(0,-1).join("/"))&&void 0!==e?e:"":null!==(n=null===re||void 0===re?void 0:re.value)&&void 0!==n?n:""}),[re]);(0,i.useEffect)((function(){a&&G.Z.get("/s3Upload/list",{params:{bucketID:a}}).then((function(e){return e.map((function(e){return ee({label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{children:e.isDir?(0,Z.jsx)(d.Z,{type:"icon-wenjianjia"}):(0,Z.jsx)(z.Z,{})}),(0,Z.jsx)("span",{className:"ml-2",children:e.name})]}),value:e.name,isLeaf:!e.isDir},e)})).filter((function(e){return""!==e.name}))})).then((function(e){return Q(e)}))}),[a]),(0,i.useEffect)((function(){re&&je([ee({},re)])}),[ue]);var me=function(){h(!m)},he=(0,Z.jsx)(E.default,{items:[{key:"0",label:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(U.Z,{className:"mr-2"}),(0,Z.jsx)("span",{children:"\u89c6\u56fe"})]})},{key:"1",label:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(K.Z,{className:"mr-2"}),(0,Z.jsx)("span",{children:"\u5217\u8868"})]})}]}),pe=(0,Z.jsx)(E.default,{items:[{key:"0",label:(0,Z.jsxs)("div",{onClick:function(){return N(!k)},children:["\u6309\u540d\u79f0",(0,Z.jsx)("span",{className:"ml-2 text-red-500",children:k?(0,Z.jsx)(R.Z,{}):(0,Z.jsx)(V.Z,{})})]})},{key:"1",label:(0,Z.jsx)("div",{children:"\u6309\u6587\u4ef6\u5927\u5c0f"})},{key:"2",label:(0,Z.jsx)("div",{children:"\u6309\u521b\u5efa\u65f6\u95f4"})},{key:"3",label:(0,Z.jsx)("div",{children:"\u6309\u4fee\u6539\u65f6\u95f4"})}]}),je=function(){var e=(0,B.Z)(M().mark((function e(n){var t,r,s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n[n.length-1]).loading=!0,se(ee({},t)),!t.isLeaf){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,G.Z.get("/s3Upload/list",{params:{bucketID:a,filePrefix:"".concat(t.value)}});case 7:r=e.sent,s=r.map((function(e){return ee({label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("span",{children:e.isDir?(0,Z.jsx)(d.Z,{type:"icon-wenjianjia"}):(0,Z.jsx)(z.Z,{})}),(0,Z.jsx)("span",{className:"ml-2",children:e.name})]}),value:e.name,isLeaf:!e.isDir},e)})).filter((function(e){return e.value!==t.value})),t.children=s,t.loading=!1,Q((0,D.Z)(W));case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"pb-8px flex items-center justify-between border-gray border-b mb-8",children:[(0,Z.jsx)(S.Z,{separator:">",children:ie.map((function(e,n){return(0,Z.jsx)(S.Z.Item,{children:(0,Z.jsx)("span",{className:"text-red-500/80",children:e})},n)}))}),(0,Z.jsxs)("div",{className:"flex justify-center items-center",children:[m?(0,Z.jsx)(I.default,{title:"serach",children:(0,Z.jsx)(f.default,{className:"mr-4",shape:"circle",icon:(0,Z.jsx)(q.Z,{}),onClick:me})}):(0,Z.jsx)(P.default,{status:"error",prefix:(0,Z.jsx)(q.Z,{onClick:me,className:J()["form-item-icon"]}),className:"mr-4"}),(0,Z.jsx)(x.Z,{type:"vertical",className:"mr-5 h-5"}),(0,Z.jsx)(f.default,{onClick:function(){return fe(!ue)},icon:(0,Z.jsx)(H.Z,{}),className:"mr-2",children:"\u5237\u65b0"}),(0,Z.jsx)(C.default,{overlay:he,placement:"bottom",children:(0,Z.jsx)(f.default,{icon:(0,Z.jsx)(K.Z,{}),className:"mr-2",children:"\u5217\u8868"})}),(0,Z.jsx)(C.default,{overlay:pe,placement:"bottom",children:(0,Z.jsx)(f.default,{icon:(0,Z.jsx)(K.Z,{}),className:"mr-4",children:"\u6392\u5e8f"})}),(0,Z.jsx)(x.Z,{type:"vertical",className:"mr-5 h-5"}),(0,Z.jsx)(O.Z,{action:"/api/v1/s3Upload/upload",data:{bucketID:a,path:xe},showUploadList:!1,children:(0,Z.jsx)(f.default,{className:"mr-2",children:"\u4e0a\u4f20"})})]})]}),(0,Z.jsx)(w.Z,{open:!0,options:W,loadData:function(e){je(e)},onChange:function(e,n){var t;ce((null!==(t=e.at(-1))&&void 0!==t?t:"").split("/")),b(!1);var r=n[n.length-1];r.isLeaf&&(se(ee({},r)),b(!0))},changeOnSelect:!0,dropdownClassName:"".concat(J()["casader-select"]," flex mb-8"),children:(0,Z.jsx)("div",{})}),(0,Z.jsx)(_.Z,{title:null===re||void 0===re?void 0:re.name,placement:"right",onClose:function(){return b(!1)},visible:v,mask:!1,width:315,maskClosable:!0,children:(0,Z.jsxs)(T.Z,{defaultActiveKey:["1","2"],bordered:!1,expandIconPosition:"end",ghost:!0,className:J()["collapse-style"],children:[(0,Z.jsxs)(ne,{header:"\u57fa\u672c\u4fe1\u606f",children:[(0,Z.jsxs)("p",{children:["\u7c7b\u578b\uff1a",null!==(n=null===re||void 0===re?void 0:re.mime)&&void 0!==n?n:"\u672a\u77e5"]}),(0,Z.jsxs)("p",{children:["\u5927\u5c0f\uff1a",(0,Y.td)(null===re||void 0===re?void 0:re.size)]}),(0,Z.jsxs)("p",{children:["\u521b\u5efa\u4e8e\uff1a",null!==(t=null===re||void 0===re?void 0:re.createTime)&&void 0!==t?t:""]}),(0,Z.jsxs)("p",{children:["\u4fee\u6539\u4e8e\uff1a",null!==(r=null===re||void 0===re?void 0:re.updateTime)&&void 0!==r?r:""]})]},"1"),(0,Z.jsx)(ne,{header:"\u9884\u89c8",children:function(e){if(e)return 0===e.indexOf("image/")}(null===re||void 0===re?void 0:re.mime)?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"".concat(J()["panel-style"]," flex-col justify-center items-center flex"),children:(0,Z.jsx)(X(),{width:200,height:200,src:null!==(l=null===re||void 0===re?void 0:re.url)&&void 0!==l?l:"",alt:null===re||void 0===re?void 0:re.value})})}):(0,Z.jsx)(X(),{width:200,height:200,src:"/assets/logo.png",alt:null===re||void 0===re?void 0:re.value})},"2"),(0,Z.jsxs)("div",{className:"flex flex-col",children:[(0,Z.jsx)(f.default,{className:"m-1.5",children:"\u4e0b\u8f7d"}),(0,Z.jsx)(f.default,{onClick:function(){var e;navigator.clipboard.writeText("".concat(null!==(e=null===re||void 0===re?void 0:re.name)&&void 0!==e?e:""))},className:"m-1.5",children:"\u590d\u5236URL"}),(0,Z.jsx)(f.default,{onClick:function(){G.Z.post("/s3Upload/remove",{bucketID:a,fileName:null===re||void 0===re?void 0:re.name}).then((function(){F.default.success("\u5220\u9664\u6210\u529f")}))},className:"m-1.5",children:"\u5220\u9664"})]})]})})]})}t(29872);var re=t(88050);function se(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function le(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?se(Object(t),!0).forEach((function(n){(0,L.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ae(e){var n=e.content,t=(0,i.useContext)(y).handleSwitch,r=(0,i.useContext)(v),l=(0,i.useMemo)((function(){return null===n||void 0===n?void 0:n.config}),[n]),a=re.Z.useForm(),c=(0,s.Z)(a,1)[0],o=function(){var e=(0,B.Z)(M().mark((function e(s){var l,a,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l={name:s.name,config:s,useSSL:!0},!n){e.next=7;break}return e.next=4,G.Z.put("/storageBucket ",le(le({},l),{},{id:n.id}));case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,G.Z.post("/storageBucket ",l);case 9:a=e.sent;case 10:return e.next=12,G.Z.get("/storageBucket ");case 12:i=e.sent,r({type:"fetched",data:i}),t("detail",a.id);case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"pb-2 flex items-center justify-between border-gray border-b",children:[(0,Z.jsx)("div",{children:(0,Z.jsx)("span",{className:"text-base leading-5 font-bold",children:"\u8bbe\u7f6e"})}),(0,Z.jsxs)("div",{className:"flex justify-center items-center",children:[(0,Z.jsx)(f.default,{className:k()["center-btn"],onClick:function(){return t("detail",null===n||void 0===n?void 0:n.id)},children:(0,Z.jsx)("span",{children:"\u53d6\u6d88"})}),(0,Z.jsx)(f.default,{className:k()["save-btn"],onClick:function(){return c.submit()},children:(0,Z.jsx)("span",{children:"\u4fdd\u5b58"})})]})]}),(0,Z.jsx)("div",{className:"".concat(k()["form-contain"]," py-6 rounded-xl mb-4"),children:(0,Z.jsxs)(re.Z,{form:c,name:"basic",labelCol:{span:3},wrapperCol:{span:11},onFinish:function(e){o(e)},onFinishFailed:function(e){F.default.error("\u4fdd\u5b58\u5931\u8d25\uff01")},autoComplete:"off",validateTrigger:"onBlur",labelAlign:"left",className:"ml-3",initialValues:le({},l),children:[(0,Z.jsx)(re.Z.Item,{label:"\u540d\u79f0",rules:[{required:!0}],name:"name",children:(0,Z.jsx)(P.default,{placeholder:"\u8bf7\u8f93\u5165..."})}),(0,Z.jsx)(re.Z.Item,{label:"\u670d\u52a1\u5730\u5740",name:"endpoint",children:(0,Z.jsx)(P.default,{placeholder:"\u8bf7\u8f93\u5165..."})}),(0,Z.jsx)(re.Z.Item,{label:"App ID",rules:[{required:!0}],name:"accessKeyID",children:(0,Z.jsx)(P.default,{placeholder:"\u8bf7\u8f93\u5165..."})}),(0,Z.jsx)(re.Z.Item,{label:"App Secret",rules:[{required:!0}],name:"secretAccessKey",children:(0,Z.jsx)(P.default.Password,{placeholder:"\u8bf7\u8f93\u5165..."})}),(0,Z.jsx)(re.Z.Item,{label:"\u533a\u57df",name:"bucketLocation",children:(0,Z.jsx)(P.default,{placeholder:"\u8bf7\u8f93\u5165..."})}),(0,Z.jsx)(re.Z.Item,{label:"bucketName",name:"bucketName",children:(0,Z.jsx)(P.default,{placeholder:"\u8bf7\u8f93\u5165..."})}),(0,Z.jsx)(re.Z.Item,{label:"\u5f00\u542fSSL",style:{marginTop:"29px"},name:"useSSL",valuePropName:"checked",children:(0,Z.jsx)(m.Z,{className:k()["switch-set-btn"],size:"small"})})]})})]})}function ie(e){var n=e.content,t=e.showType;return(0,Z.jsxs)("div",{className:"pl-6 pr-10 mt-6",children:[(0,Z.jsxs)("div",{className:"flex justify-start items-center mb-5 ",children:[(0,Z.jsxs)("span",{className:"text-lg flex-grow font-bold",children:[(0,Z.jsx)("span",{className:"font-bold text-18px",children:"\u5b58\u50a8"}),"form"===t?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{}),"\u5b58\u50a8\u914d\u7f6e"]}):(0,Z.jsx)(Z.Fragment,{})]}),(0,Z.jsxs)("div",{className:"space-x-4",children:[(0,Z.jsx)(d.Z,{type:"icon-lianxi",style:{fontSize:"18px"}}),(0,Z.jsx)(d.Z,{type:"icon-wenjian1",style:{fontSize:"18px"}}),(0,Z.jsx)(d.Z,{type:"icon-bangzhu",style:{fontSize:"18px"}})]})]}),"explorer"===t?(0,Z.jsx)(te,{bucketId:null===n||void 0===n?void 0:n.id}):"detail"===t?(0,Z.jsx)(N,{content:n}):"form"===t?(0,Z.jsx)(ae,{content:n}):""]})}var ce=t(58784),oe=t(61409),de=t.n(oe),ue=(t(517),t(37608)),fe=t(1630);function xe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xe(Object(t),!0).forEach((function(n){(0,L.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function he(e){var n=e.bucket,t=(0,i.useContext)(v),r=(0,c.x)(""==n.name),l=(0,s.Z)(r,2),a=l[0],o=l[1],u=(0,c.x)(!1),f=(0,s.Z)(u,2),x=f[0],m=f[1],h=(0,i.useContext)(b).currId,p=(0,i.useContext)(y).handleSwitch,j=(0,c.x)(n.id===h),g=(0,s.Z)(j,2),k=g[0],N=g[1];function _(e){return w.apply(this,arguments)}function w(){return(w=(0,B.Z)(M().mark((function e(r){var s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r){e.next=4;break}t({type:"deleted",data:n}),e.next=15;break;case 4:if(0===n.id){e.next=10;break}return e.next=7,G.Z.put("/storageBucket ",me(me({},n),{},{name:r}));case 7:t({type:"changed",data:me(me({},n),{},{name:r})}),e.next=15;break;case 10:return s=me(me({},n),{},{name:r}),Reflect.deleteProperty(s,"id"),e.next=14,G.Z.post("/storageBucket ",s);case 14:t({type:"added",data:me(me({},n),{},{name:r})});case 15:o(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=(0,B.Z)(M().mark((function e(n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.Z.delete("/storageBucket/".concat(n.id));case 2:200==e.sent.status&&t({type:"deleted",data:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){0==e&&(N(!1),m(!1))}var S=(0,Z.jsx)(E.default,{onClick:function(e){e.domEvent.stopPropagation(),"1"!==e.key&&"2"!==e.key&&"3"!==e.key||m(!1)},items:[{key:"0",label:(0,Z.jsxs)("div",{onClick:function(){return o(!a)},children:[(0,Z.jsx)(d.Z,{type:"icon-zhongmingming"}),(0,Z.jsx)("span",{className:"ml-1.5",children:"\u91cd\u547d\u540d"})]})},{key:"1",label:(0,Z.jsxs)("div",{onClick:function(){return p("detail",n.id)},children:[(0,Z.jsx)(d.Z,{type:"icon-chakan"}),(0,Z.jsx)("span",{className:"ml-1.5",children:"\u67e5\u770b"})]})},{key:"2",label:(0,Z.jsxs)("div",{onClick:function(){return p("form",n.id)},children:[(0,Z.jsx)(d.Z,{type:"icon-bianji-da"}),(0,Z.jsx)("span",{className:"ml-1.5",children:"\u914d\u7f6e"})]})},{key:"3",label:(0,Z.jsx)(ue.Z,{placement:"right",title:"\u786e\u8ba4\u5220\u9664\u8be5\u6587\u4ef6\u5417\uff1f",onConfirm:function(){!function(e){O.apply(this,arguments)}(n)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88",onCancel:function(){return m(!1)},overlayClassName:de()["delete-label"],okType:"danger",children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(d.Z,{type:"icon-shanchu"}),(0,Z.jsx)("span",{className:"ml-1.5",children:"\u5220\u9664"})]})})}]});return(0,Z.jsxs)("div",{className:'flex justify-start items-center py-2.5 pl-4 cursor-pointer hover:bg-[#F8F8F9]"\n      '.concat(n.id===h?"bg-[#F8F8F9]":""),style:k?{background:"#F8F8F9"}:{},onMouseEnter:function(){return N(!0)},onMouseLeave:function(){return I(x)},onClick:function(){return p("explorer",n.id)},children:[a?(0,Z.jsx)(P.default,{onBlur:function(e){_(e.target.value)},onPressEnter:function(e){_(e.target.value)},className:"text-sm font-normal leading-4 h-5 w-5/7 pl-1",defaultValue:n.name,autoFocus:!0,placeholder:"\u8bf7\u8f93\u5165\u5916\u90e8\u6570\u636e\u6e90\u540d"}):(0,Z.jsx)("div",{onClick:function(){},className:"text-sm font-normal leading-4",children:n.name}),(0,Z.jsx)(C.default,{overlay:S,trigger:["click"],placement:"bottomRight",visible:x,onVisibleChange:function(e){m(e),I(e)},children:(0,Z.jsx)(fe.Z,{onClick:function(e){return e.stopPropagation()},className:"m-auto mr-0 pr-2",style:{visibility:k?"visible":"hidden"}})})]},n.name)}function pe(){var e=(0,i.useContext)(j),n=(0,i.useContext)(y).handleSwitch;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:"border-gray border-b ",children:(0,Z.jsx)("div",{className:"".concat(de().title," text-lg font-bold mt-6 ml-4 mb-8"),children:"\u5b58\u50a8"})}),(0,Z.jsxs)("div",{className:"flex justify-between items-center p-4 border-[#5f62691a] border-b-1",children:[(0,Z.jsx)("span",{className:"text-base  leading-5 font-bold",children:"\u6982\u89c8"}),(0,Z.jsx)("div",{className:"flex items-center",children:(0,Z.jsx)(f.default,{className:de()["add-btn"],icon:(0,Z.jsx)(ce.Z,{}),shape:"circle",size:"small",onClick:function(){n("form",void 0)}})})]}),(0,Z.jsx)("div",{className:"mt-3",children:e.map((function(e){return(0,Z.jsx)(he,{bucket:e},e.id)}))})]})}function je(e,n){switch(n.type){case"fetched":var t;return null!==(t=n.data)&&void 0!==t?t:[];case"selected":default:return e;case"added":return[].concat((0,D.Z)(e),[n.data]);case"changed":return e.map((function(e){return e.id===n.data.id?n.data:e}));case"deleted":return e.filter((function(e){return e.id!==n.data.id}))}}var ve=t(55655),be=t.n(ve);function ye(){var e=(0,i.useReducer)(je,[]),n=e[0],t=e[1],l=(0,c.x)(void 0),o=(0,s.Z)(l,2),d=o[0],u=o[1],f=(0,c.x)("explorer"),x=(0,s.Z)(f,2),m=x[0],h=x[1];(0,i.useEffect)((function(){var e;d||u(null===(e=n.at(0))||void 0===e?void 0:e.id)}),[n]),(0,i.useEffect)((function(){G.Z.get("/storageBucket").then((function(e){return t({type:"fetched",data:e})}))}),[]);var p=(0,i.useMemo)((function(){return n.find((function(e){return e.id===d}))}),[d,n]);return(0,Z.jsx)(j.Provider,{value:n,children:(0,Z.jsx)(v.Provider,{value:t,children:(0,Z.jsx)(b.Provider,{value:{currId:d,setCurrId:u},children:(0,Z.jsxs)(y.Provider,{value:{handleSwitch:function(e,n){u(n),h(e)}},children:[(0,Z.jsx)(a(),{children:(0,Z.jsx)("title",{children:"FireBoom - \u6587\u4ef6\u5b58\u50a8"})}),(0,Z.jsxs)(r.Z,{className:"h-[calc(100vh_-_36px)]",children:[(0,Z.jsx)("div",{className:"flex-1 ".concat(be()["col-left"]),children:(0,Z.jsx)(pe,{})}),(0,Z.jsx)("div",{className:be().divider}),(0,Z.jsx)("div",{className:"flex-1",children:(0,Z.jsx)(ie,{showType:m,content:p})})]})]})})})})}},93159:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/storage",function(){return t(75914)}])},61409:function(e){e.exports={title:"Pannel_title__42_rV",select:"Pannel_select__678Vt",actions:"Pannel_actions__OGT9j",manage:"Pannel_manage__yHDgy","option-icon":"Pannel_option-icon__oecMk","select-contain":"Pannel_select-contain__4OC9m","delete-label":"Pannel_delete-label__zYSQ2","add-btn":"Pannel_add-btn__Wai94"}},18979:function(e){e.exports={"casader-select":"Explorer_casader-select__bpHH8"}},55899:function(e){e.exports={"save-btn":"subs_save-btn__ogV76","center-btn":"subs_center-btn__s4Pxr","switch-check-btn":"subs_switch-check-btn__3bcRX","ssl-open-btn":"subs_ssl-open-btn__mv532","ssl-close-btn":"subs_ssl-close-btn__6NWDe","switch-set-btn":"subs_switch-set-btn__wBh2l","form-contain":"subs_form-contain__5oA7P","panel-style":"subs_panel-style__n7W_T","form-item-icon":"subs_form-item-icon__C604v"}},55655:function(e){e.exports={"col-left":"storage_col-left__raRO3",divider:"storage_divider__z4O_K"}}},function(e){e.O(0,[798,7521,3389,1864,2090,130,6810,7377,9774,2888,179],(function(){return n=93159,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
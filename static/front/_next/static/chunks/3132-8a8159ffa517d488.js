(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3132],{51917:function(e,n,t){"use strict";t.d(n,{In:function(){return c},Mp:function(){return l},Vo:function(){return a},k8:function(){return i},oP:function(){return o},rW:function(){return r}});var s=t(79685),a=(0,s.createContext)([]),i=(0,s.createContext)({}),r=(0,s.createContext)({}),l=(0,s.createContext)({}),c=(0,s.createContext)({}),o=(0,s.createContext)({})},35040:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});t(61953);var s=t(13413),a=t(63342);function i(){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,a.jsx)(s.Z,{src:"/assets/404.png",height:99,width:105,alt:"50x",preview:!1}),(0,a.jsx)("div",{className:"my-8 ml-2 text-sm text-[#AFB0B4CC]",children:"\u6682\u65e0\u5185\u5bb9\uff5e"})]})}},81378:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});t(61953);var s=t(13413),a=t(63342);function i(){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,a.jsx)(s.Z,{src:"/assets/50x.png",height:89,width:198,alt:"50x",preview:!1}),(0,a.jsx)("div",{className:"my-8 ml-6 text-sm text-[#AFB0B4CC]",children:"\u7f51\u7edc\u51fa\u73b0\u95ee\u9898\uff5e"})]})}},83132:function(e,n,t){"use strict";t.d(n,{P:function(){return In},Z:function(){return Hn}});t(17016);var s=t(8607),a=(t(68158),t(29094)),i=(t(61953),t(13413)),r=t(95513),l=(t(68123),t(77423)),c=t(72908),o=t(96683),d=t(59682),u=t(79685),m=t(39986),x=t(51917),h=t(35040),p=t(63342);function f(){return(0,p.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,p.jsx)(i.Z,{src:"/assets/404-2.png",height:151,width:173,alt:"50x",preview:!1}),(0,p.jsx)("div",{className:"my-8 ml-2 text-sm text-[#AFB0B4CC]",children:"\u6b63\u5728\u52aa\u529b\u5f00\u53d1\u4e2d\uff5e"})]})}var j,b,v=t(61384),g=t(24294),_=t.n(g),y=(t(38059),t(86742)),N=t(78818),Z="SMS",k="Social",w="Email",C=(j={},(0,N.Z)(j,Z,"\u77ed\u4fe1\u8fde\u63a5\u5668"),(0,N.Z)(j,k,"\u793e\u4ea4\u8fde\u63a5\u5668"),(0,N.Z)(j,w,"\u90ae\u4ef6\u8fde\u63a5\u5668"),j),I=(b={},(0,N.Z)(b,Z,"\u8bbe\u7f6e\u77ed\u4fe1\u8fde\u63a5\u5668"),(0,N.Z)(b,k,"\u6dfb\u52a0\u793e\u4ea4\u8fde\u63a5\u5668"),(0,N.Z)(b,w,"\u8bbe\u7f6e\u90ae\u4ef6\u8fde\u63a5\u5668"),b),S=t(3153),D=t(86669),T=function(){return(0,S.ZP)("/auth/linker",D.p)},E=(t(3003),t(86690)),P=(t(39150),t(27250)),F=t(50894),O=t(99272),L=(t(84971),t(68109)),M=t(68591),W=t.n(M),A=t(95246),B=t.n(A),H=function(e){var n,t=e.data,s=e.onItemClickHandle,a=e.currentSelectedId;return(0,p.jsxs)("div",{className:W()((n={},(0,N.Z)(n,B()["connector-item-wrapper"],!0),(0,N.Z)(n,B()["connector-item-wrapper-selected"],a===t.id),(0,N.Z)(n,B()["connector-item-wrapper-unselected"],a!==t.id),(0,N.Z)(n,B()["connector-item-wrapper-enabled"],t.enabled),(0,N.Z)(n,B()["connector-item-wrapper-unenabled"],!t.enabled),n)),onClick:function(){return s(t)},children:[t.enabled&&(0,p.jsx)("div",{className:B().enabled,children:"\u5df2\u6dfb\u52a0"}),(0,p.jsx)("div",{className:B().icon,children:(0,p.jsx)(i.Z,{height:18,src:t.logo,alt:"",preview:!1})}),(0,p.jsxs)("h1",{className:B().title,children:[t.name,(0,p.jsx)("span",{className:B().platform,children:t.platform})]}),(0,p.jsx)("p",{className:B().description,children:t.description})]})},V=t(5648),U=t.n(V),J=function(e){var n=e.title,t=e.handleModelOk,s=e.isModalVisible,i=e.handleModelCancel,r=e.data,l=e.onItemClickHandle,c=e.currentSelectedId;return(0,p.jsx)(L.Z,{width:"690px",title:n,footer:[(0,p.jsx)(a.default,{className:U()["next-button"],onClick:t,children:"\u4e0b\u4e00\u6b65"},"next")],open:s,onOk:t,onCancel:i,children:(0,p.jsx)("div",{className:U()["modal-wrapper"],children:r.map((function(e,n){return(0,p.jsx)(H,{onItemClickHandle:l,currentSelectedId:c,data:e},"".concat(e.id," ").concat(n))}))})})},R=t(79344),z=t.n(R),K=function(e){var n=e.handleTopToggleDesigner,t=e.data,s=void 0===t?[]:t,r=(0,u.useState)(!1),l=r[0],c=r[1],o=(0,u.useState)(""),d=o[0],m=o[1],h=(0,u.useState)(""),f=h[0],j=h[1],b=(0,u.useContext)(x.In).connectorDispatch,v=s.filter((function(e){return e.types===Z})),g=s.filter((function(e){return e.types===w})),_=v.some((function(e){return!!e.enabled})),y=g.some((function(e){return!!e.enabled})),N=v.find((function(e){return!!e.enabled})),k=g.find((function(e){return!!e.enabled})),C=[{title:"\u8fde\u63a5\u5668\u540d\u79f0",dataIndex:"name",render:function(e,n){var t=(0,p.jsxs)("div",{className:z().tableNotInUseWrapper,children:[(0,p.jsx)("div",{className:z().icon,children:n.types===w?(0,p.jsx)(F.Z,{}):(0,p.jsx)(O.Z,{})}),(0,p.jsx)("span",{className:z().tableNameHeader,children:e}),(0,p.jsx)(a.default,{size:"small",onClick:S(n.types),children:"\u914d\u7f6e"})]});return(0,p.jsx)("div",{children:n.types===Z?_?(0,p.jsxs)("div",{className:z().tableNameInUseWrapper,children:[(0,p.jsx)("div",{className:z().icon,children:(0,p.jsx)(i.Z,{src:null===N||void 0===N?void 0:N.logo,alt:""})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:null===N||void 0===N?void 0:N.name}),(0,p.jsx)("h3",{children:null===N||void 0===N?void 0:N.id})]})]}):t:y?(0,p.jsxs)("div",{className:z().tableNameEmailInUse,children:[(0,p.jsx)(i.Z,{src:null===k||void 0===k?void 0:k.logo,alt:""}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:null===k||void 0===k?void 0:k.name}),(0,p.jsx)("h3",{children:null===k||void 0===k?void 0:k.id})]})]}):t})}},{title:"\u7c7b\u578b",dataIndex:"name"},{title:"\u767b\u5f55\u4f53\u9a8c",dataIndex:"experience",render:function(e){return e?(0,p.jsx)(P.Z,{color:"#1BDD8A",text:"\u4f7f\u7528\u4e2d"}):(0,p.jsx)("span",{className:z().unused,children:(0,p.jsx)(P.Z,{color:"#AFB0B4",text:"\u672a\u4f7f\u7528"})})}}],I=[{key:Z,name:"\u77ed\u4fe1\u8fde\u63a5\u5668",types:Z,experience:_},{key:w,name:"\u90ae\u4ef6\u94fe\u63a5\u5668",types:w,experience:y}],S=function(e){return function(){j(e),c(!0)}};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:z().tableWrapper,children:(0,p.jsx)(E.Z,{onHeaderRow:function(){return{className:z().headerWidth}},onRow:function(e){return{className:z().tableItemWidth,onClick:(t=e,function(){var e=t.types===Z?N:k;if(!e)return!1;n({name:"\u8fde\u63a5\u5668\u8be6\u60c5",type:"connectDetails"});var a=s.find((function(n){return n.id===e.id}));b({type:"setCurrentConnector",payload:a})})};var t},pagination:!1,columns:C,dataSource:I,rowClassName:"cursor-pointer"})}),(0,p.jsx)(J,{title:f===Z?"\u8bbe\u7f6e\u77ed\u4fe1\u8fde\u63a5\u5668":"\u8bbe\u7f6e\u90ae\u4ef6\u8fde\u63a5\u5668",handleModelOk:function(){c(!1),n({name:"\u8fde\u63a5\u5668\u8be6\u60c5",type:"connectDetails"});var e=s.find((function(e){return e.id===d}));b({type:"setCurrentConnector",payload:e||void 0})},isModalVisible:l,handleModelCancel:function(){c(!1)},data:f===Z?v:g,onItemClickHandle:function(e){e.enabled||(d!==e.id?m(e.id):m(""))},currentSelectedId:d})]})},G=t(49221),q=t(76337),Q=t.n(q),X=function(e){var n=e.data,t=void 0===n?[]:n,s=e.handleTopToggleDesigner,r=(0,u.useState)(!1),l=r[0],c=r[1],o=(0,u.useState)(""),d=o[0],m=o[1],h=(0,u.useContext)(x.In).connectorDispatch,f=function(e){switch(e){case"Native":return(0,p.jsx)(O.Z,{});case"Web":return(0,p.jsx)(G.Z,{});default:return null}},j=[{title:"\u8fde\u63a5\u5668\u540d\u79f0",dataIndex:"name",render:function(e,n){return(0,p.jsxs)("div",{className:Q()["table-header-name"],children:[(0,p.jsx)("div",{className:Q().icon,children:(0,p.jsx)(i.Z,{src:null===n||void 0===n?void 0:n.logo,alt:"",preview:!1})}),(0,p.jsx)("span",{className:Q().tableNameHeader,children:e}),(0,p.jsx)("span",{children:f(null===n||void 0===n?void 0:n.platform)})]})}},{title:"\u7c7b\u578b",dataIndex:"type",render:function(){return(0,p.jsx)("span",{children:"\u793e\u4ea4\u8fde\u63a5\u5668"})}},{title:"\u767b\u5f55\u4f53\u9a8c",dataIndex:"experience",render:function(e){return e?(0,p.jsx)(P.Z,{color:"#1BDD8A",text:"\u4f7f\u7528\u4e2d"}):(0,p.jsx)("span",{className:Q().unused,children:(0,p.jsx)(P.Z,{color:"#AFB0B4",text:"\u672a\u4f7f\u7528"})})}}],b=t.filter((function(e){return!!e.enabled})).map((function(e){return{key:e.id,name:e.name,type:e.types,experience:e.enabled,logo:e.logo,platform:e.platform}}));return(0,p.jsxs)("div",{className:Q().socialContactConnectorWrapper,children:[(0,p.jsx)(a.default,{className:Q().addSocialButton,onClick:function(){c(!0)},children:"\u6dfb\u52a0\u793e\u4ea4\u8fde\u63a5\u5668"}),(0,p.jsx)("div",{className:Q().tableWrapper,children:(0,p.jsx)(E.Z,{onHeaderRow:function(){return{className:Q().headerWidth}},onRow:function(e){return{className:Q().tableItemWidth,onClick:(n=e,function(){s({name:"\u8fde\u63a5\u5668\u8be6\u60c5",type:"connectDetails"});var e=t.find((function(e){return e.id===n.key}));h({type:"setCurrentConnector",payload:e})})};var n},pagination:!1,columns:j,dataSource:b,rowClassName:"cursor-pointer"})}),(0,p.jsx)(J,{title:"\u6dfb\u52a0\u793e\u4ea4\u8fde\u63a5\u5668",handleModelOk:function(){c(!1),s({name:"\u8fde\u63a5\u5668\u8be6\u60c5",type:"connectDetails"});var e=t.find((function(e){return e.id===d}));h({type:"setCurrentConnector",payload:e})},isModalVisible:l,handleModelCancel:function(){c(!1)},data:t,onItemClickHandle:function(e){e.enabled||(d!==e.id?m(e.id):m(""))},currentSelectedId:d})]})},Y=t(68259),$=t.n(Y),ee=y.Z.TabPane,ne=function(e){var n=e.handleTopToggleDesigner,t=T().data,s=(0,u.useContext)(x.In).connectorDispatch,a=t&&t.filter((function(e){return e.types===Z||e.types===w})),i=t&&t.filter((function(e){return e.types===k}));return(0,u.useEffect)((function(){s({type:"fetchConnector",payload:t||[]})}),[t]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:$().title,children:"\u8fde\u63a5\u5668"}),(0,p.jsx)("span",{className:$().titlePlaceholder,children:"\u8bbe\u7f6e\u8fde\u63a5\u5668\uff0c\u5f00\u542f\u65e0\u5bc6\u7801\u548c\u793e\u4ea4\u767b\u5f55"}),(0,p.jsx)("div",{className:$().tabStyle,children:(0,p.jsxs)(y.Z,{defaultActiveKey:"messageAndEmail",children:[(0,p.jsx)(ee,{tab:"\u77ed\u4fe1\u548c\u90ae\u4ef6\u8fde\u63a5\u5668",children:(0,p.jsx)(K,{data:a,handleTopToggleDesigner:n})},Z),(0,p.jsx)(ee,{tab:"\u793e\u4ea4\u8fde\u63a5\u5668",children:(0,p.jsx)(X,{data:i,handleTopToggleDesigner:n})},k)]})})]})},te=(t(54339),t(19345)),se=t(77227),ae=t(50724),ie=t.n(ae),re=t(21034),le=t(62011),ce=t(17327),oe=t(73670),de=t.n(oe),ue=t(23329),me=t(13914),xe=t(82261),he=t.n(xe),pe=function(e){var n=e.handleTopToggleDesigner,t=(0,u.useState)(!1),s=t[0],r=t[1],l=(0,u.useContext)(x.In),c=l.connector,o=c.currentConnector,d=c.connectors,m=l.connectorDispatch,h=(0,u.useState)(o.config||{}),f=h[0],j=h[1],b=(0,u.useState)(o.configTemplate||{}),v=(b[0],b[1]),g=(0,u.useState)(""),_=g[0],y=g[1],N=d.filter((function(e){return e.types===o.types}));(0,u.useEffect)((function(){j(o.config)}),[o]);var w=(0,p.jsxs)("div",{className:he().moreContent,children:[(0,p.jsxs)(a.default,{type:"text",onClick:function(){r(!0)},children:[(0,p.jsx)(re.Z,{}),"\u66f4\u6362",C[o.types]]}),(0,p.jsxs)(a.default,{type:"text",onClick:void 0,children:[(0,p.jsx)(le.Z,{}),"\u5220\u9664"]})]});return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{onClick:function(){n({name:"\u8fde\u63a5\u5668",type:"connect"})},className:he().return,children:["<<","\u8fd4\u56de\u8fde\u63a5\u5668"]}),(0,p.jsxs)("div",{className:he().header,children:[(0,p.jsxs)("div",{className:he().headerLeft,children:[(0,p.jsx)("div",{className:he().headerIcon,children:(0,p.jsx)("div",{className:he().icon,children:(0,p.jsx)(i.Z,{height:22,src:o.logo,alt:""})})}),(0,p.jsxs)("div",{className:he().titleWrapper,children:[(0,p.jsx)("div",{className:he().h1,children:o.name}),(0,p.jsxs)("div",{className:he().subHeading,children:[(0,p.jsx)("span",{className:he().titleType,children:C[o.types]}),(0,p.jsx)("div",{className:he().status,children:o.enabled?(0,p.jsx)(P.Z,{color:"#1BDD8A",text:"\u4f7f\u7528\u4e2d"}):(0,p.jsx)(P.Z,{color:"rgba(175, 176, 180, 0.6000)",text:"\u672a\u4f7f\u7528"})}),(0,p.jsxs)("div",{className:he().id,children:[(0,p.jsxs)("span",{children:["ID\uff1a",o.id]}),(0,p.jsx)("span",{children:(0,p.jsx)(ce.Z,{onClick:function(e){return function(){de()(e),alert("\u62f7\u8d1d\u6210\u529f")}}(o.id)})})]})]})]})]}),(0,p.jsxs)("div",{className:he().buttonGroup,children:[(0,p.jsx)(a.default,{children:(0,p.jsx)("a",{target:"_blank",href:"http://www.baidu.com",rel:"noreferrer",children:"\u67e5\u770bREADME"})}),(0,p.jsx)(te.default,{placement:"topRight",content:w,trigger:"click",children:(0,p.jsx)(a.default,{children:"\u66f4\u591a"})})]})]}),(0,p.jsxs)("div",{className:he().content,children:[(0,p.jsxs)("div",{className:he().contentHeader,children:[(0,p.jsx)("span",{children:"//"}),(0,p.jsx)("span",{children:"\u8bbe\u7f6e"}),(0,p.jsx)("span",{children:"\u8bf7\u518d\u6b21\u8f93\u5165\u4f60\u7684JSON\u914d\u7f6e"})]}),(0,p.jsx)("div",{className:he().contentJson,children:(0,p.jsx)(ue.Z,{colors:{background:"#FFF",default:"#000"},width:"100%",onChange:function(e){j(e.jsObject),v(e.plainText)},id:"a_unique_id",placeholder:f,locale:me.Z,height:"100%"})}),o.types!==k&&(0,p.jsxs)("div",{className:he().mailTest,children:[(0,p.jsx)("span",{children:"*"}),(0,p.jsxs)("span",{children:["\u6d4b\u8bd5\u4f60\u7684",o.types===Z?"\u77ed\u4fe1":"\u90ae\u4ef6","\u94fe\u63a5\u5668\uff1a"]}),(0,p.jsxs)("div",{className:he().inputWrapper,children:[(0,p.jsx)("input",{type:"text"}),(0,p.jsx)("button",{children:"\u53d1\u9001"})]})]}),(0,p.jsx)(a.default,{className:he().saveButton,onClick:void 0,children:"\u4fdd\u5b58\u66f4\u6539"})]}),(0,p.jsx)(J,{title:I[o.types],handleModelOk:function(){r(!1),n({name:"\u8fde\u63a5\u5668\u8be6\u60c5",type:"connectDetails"});var e=d.find((function(e){return e.id===_}));m({type:"setCurrentConnector",payload:e})},isModalVisible:s,handleModelCancel:function(){r(!1)},data:N,onItemClickHandle:function(e){e.enabled||(_!==e.id?y(e.id):y(""))},currentSelectedId:_})]})},fe=t(86420),je=(t(85800),t(41503)),be=(t(29872),t(88050)),ve=function(e){var n=e.data,t=(0,u.useState)(n),s=t[0],i=t[1],l=be.Z.useForm(),c=(0,r.Z)(l,1)[0];return(0,u.useEffect)((function(){i(n)}),[n]),s?(0,p.jsx)("div",{className:"w-1/2 pr-6",children:(0,p.jsxs)(be.Z,{form:c,name:"basic",initialValues:s,onFinish:function(e){D.Z.post("/auth/brand",{branding:{logoUrl:null===e||void 0===e?void 0:e.logo,slogan:null===e||void 0===e?void 0:e.slogan},color:{isDarkModeEnabled:null===e||void 0===e?void 0:e.darkMode,primaryColor:null===e||void 0===e?void 0:e.color}})},children:[(0,p.jsx)("div",{className:"text-xs text-[#AFB0B4] mb-4.5",children:"\u989c\u8272"}),(0,p.jsxs)("div",{className:"text-sm mb-2",children:[(0,p.jsx)("span",{className:"text-[#E13D5BFF]",children:"//"})," \u54c1\u724c\u989c\u8272"]}),(0,p.jsx)(be.Z.Item,{name:"color",children:(0,p.jsx)(je.default,{})}),(0,p.jsx)("div",{className:"text-xs text-[#AFB0B4] mb-4.5 mt-8",children:"\u54c1\u724c\u8ba2\u5236\u533a"}),(0,p.jsxs)("div",{className:"text-sm mt-4 mb-2",children:[(0,p.jsx)("span",{className:"text-[#E13D5BFF]",children:"//"})," logo\u56fe\u7247URL"]}),(0,p.jsx)(be.Z.Item,{name:"logo",children:(0,p.jsx)(je.default,{})}),(0,p.jsxs)("div",{className:"text-sm mt-4 mb-2",children:[(0,p.jsx)("span",{className:"text-[#E13D5BFF]",children:"//"})," \u6807\u8bed"]}),(0,p.jsx)(be.Z.Item,{name:"slogan",children:(0,p.jsx)(je.default,{})}),(0,p.jsx)(a.default,{className:"float-right mt-10",type:"primary",htmlType:"submit",children:"\u4fdd\u5b58"})]})}):(0,p.jsx)(h.Z,{})},ge=(t(2245),t(48628)),_e=t(19905),ye=t.n(_e),Ne=ge.default.Option,Ze=y.Z.TabPane,ke=function(){return(0,p.jsxs)("div",{className:ye().experiencePreviewWrapper,children:[(0,p.jsxs)("div",{className:ye().experiencePreviewTitle,children:[(0,p.jsxs)("div",{className:ye().experiencePreviewTitleLeft,children:[(0,p.jsx)("span",{children:"//"}),(0,p.jsx)("span",{children:"\u767b\u9646\u9884\u89c8"})]}),(0,p.jsxs)("div",{className:ye().experiencePreviewTitleRight,children:[(0,p.jsxs)(ge.default,{defaultValue:"\u82f1\u6587",style:{width:120},children:[(0,p.jsx)(Ne,{value:"\u82f1\u6587",children:"\u82f1\u6587"}),(0,p.jsx)(Ne,{value:"\u4e2d\u6587",children:"\u4e2d\u6587"})]}),(0,p.jsxs)(ge.default,{defaultValue:"\u6d45\u8272",style:{width:120},children:[(0,p.jsx)(Ne,{value:"\u6d45\u8272",children:"\u6d45\u8272"}),(0,p.jsx)(Ne,{value:"\u6df1\u8272",children:"\u6df1\u8272"})]})]})]}),(0,p.jsx)("div",{className:ye().experiencePreviewDetailContent,children:(0,p.jsxs)(y.Z,{tabPosition:"top",animated:!1,className:ye().tabStyle,centered:!0,type:"card",defaultActiveKey:"\u684c\u9762\u7f51\u9875",children:[(0,p.jsx)(Ze,{tab:"\u684c\u9762\u7f51\u9875",children:(0,p.jsx)(i.Z,{width:"100%",height:"100%",src:"/assets/experience-preview.png",alt:"FireBoom",preview:!1})},"\u684c\u9762\u7f51\u9875"),(0,p.jsx)(Ze,{tab:"\u79fb\u52a8\u7f51\u9875",children:(0,p.jsx)(i.Z,{width:"100%",height:"100%",src:"/assets/mobile-preview.png",alt:"FireBoom",preview:!1})},"\u79fb\u52a8\u7f51\u9875"),(0,p.jsx)(Ze,{tab:"\u79fb\u52a8\u539f\u751f",children:(0,p.jsx)(i.Z,{width:"100%",height:"100%",src:"/assets/mobile-preview.png",alt:"FireBoom",preview:!1})},"\u79fb\u52a8\u539f\u751f")]})})]})},we=(t(72314),t(77408)),Ce=(t(14850),t(71887)),Ie=t(28721),Se=t(8733),De=t.n(Se),Te=t(99051),Ee=t.n(Te),Pe=(t(13562),t(34648)),Fe=t(37216),Oe=t(9855),Le=t(10755),Me=t(35394),We=t.n(Me),Ae=function(e){var n=e.data,t=e.selectedData,s=e.onChange,a=(0,u.useState)(t),r=a[0],l=a[1],c=n.map((function(e){return{key:e.type,title:e.name,platform:e.platform,list:e.list,logo:e.logo}}));(0,u.useEffect)((function(){l(t)}),[t]);var o=(0,u.useState)([])[0],d=function(e){switch(e){case"Native":return(0,p.jsx)(O.Z,{});case"Web":return(0,p.jsx)(G.Z,{});default:return null}};return(0,p.jsx)("div",{className:We().transferWrapper,children:(0,p.jsx)(Pe.Z,{selectAllLabels:[(0,p.jsx)("div",{style:{color:"#5F6269"},children:"\u793e\u4ea4\u8fde\u63a5\u5668"},"1"),(0,p.jsx)("div",{style:{color:"#5F6269"},children:"\u5df2\u6dfb\u52a0"},"2")],operationStyle:{display:"none"},listStyle:{border:"1px solid rgba(0,0,0,0.1)"},selectedKeys:o,showSelectAll:!1,dataSource:c,targetKeys:r,onSelectChange:function(e,n){if(0!==e.length){var t=[].concat((0,Fe.Z)(r),(0,Fe.Z)(e));l(t),s(t)}else{var a=n[0],i=r.findIndex((function(e){return e===a})),c=r;c.splice(i,1),l((0,Fe.Z)(c)),s((0,Fe.Z)(c))}},render:function(e){var n=r.find((function(n){return n===e.key}));return{label:(0,p.jsxs)("div",{className:We().transferItem,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(i.Z,{className:"mr-2",height:14,src:e.logo,alt:""}),(0,p.jsx)("span",{className:"custom-item",children:e.title}),e.platform.map((function(e){return(0,p.jsx)("span",{children:d(e)},e)}))]}),(0,p.jsx)("span",{children:n?(0,p.jsx)(Oe.Z,{}):(0,p.jsx)(Le.Z,{})})]}),value:e.title}}})})},Be=ge.default.Option,He=function(e){var n,t,s,i,l,c,o=e.data,d=e.connectorsData,u=void 0===d?[]:d,m=e.handleTopToggleDesigner,x=null!==o&&void 0!==o&&o.signInMethods?Object.keys(o.signInMethods).find((function(e){return"primary"===o.signInMethods[e]})):"username",h=3!==Object.values(o).filter((function(e){return"disabled"===e})).length,f=null===o||void 0===o||null===(n=o.signInMethods)||void 0===n?void 0:n.username,j=null===o||void 0===o||null===(t=o.signInMethods)||void 0===t?void 0:t.email,b=null===o||void 0===o||null===(s=o.signInMethods)||void 0===s?void 0:s.sms,v=null===o||void 0===o||null===(i=o.signInMethods)||void 0===i?void 0:i.social,g={mainLoginMethod:x,otherMethodAvailable:h,socialValue:null===o||void 0===o?void 0:o.socialSignInConnectorTargets,username:f&&"disabled"!==f,email:j&&"disabled"!==j,sms:b&&"disabled"!==b,social:v&&"disabled"!==v},_=u.filter((function(e){return e.types===Z})),y=u.filter((function(e){return e.types===w})),N=u.filter((function(e){return e.types===k})),C=De()(N,(function(e){return e.target})),I=Object.keys(C).map((function(e){var n=C[e];return{type:e,name:n[0].name,platform:n.map((function(e){return e.platform})),logo:n[0].logo,list:n}})),S=_.some((function(e){return e.enabled})),T=y.some((function(e){return e.enabled})),E=N.some((function(e){return e.enabled})),P=be.Z.useForm(),F=(0,r.Z)(P,1)[0],O=be.Z.useWatch("otherMethodAvailable",F),L=be.Z.useWatch("mainLoginMethod",F),M=be.Z.useWatch("social",F),W=be.Z.useWatch("email",F),A=be.Z.useWatch("sms",F),B=function(e){},H=function(){m({name:"\u8fde\u63a5\u5668",type:"connect"})},V=function(e){return(0,p.jsxs)("div",{className:Ee().loginItemSubHeading,children:[(0,p.jsx)(Ie.Z,{}),(0,p.jsxs)("span",{children:["\u4f60\u8fd8\u6ca1\u6709\u8bbe\u7f6e",e,"\u8fde\u63a5\u5668\uff0c\u4f60\u9700\u5b8c\u6210\u8bbe\u7f6e\u540e\u767b\u5f55\u4f53\u9a8c\u624d\u4f1a\u751f\u6548"]}),(0,p.jsx)(a.default,{onClick:H,children:"\u914d\u7f6e"})]})};return(0,p.jsx)("div",{className:Ee().experienceSettingWrapper,children:(0,p.jsxs)(be.Z,{form:F,initialValues:g,onFinish:function(e){var n="sms"==L?"primary":e.sms?"secondary":"disabled",t="email"==L?"primary":e.email?"secondary":"disabled",s="social"==L?"primary":e.social?"secondary":"disabled",a="username"==L?"primary":e.username?"secondary":"disabled";(function(e){return D.Z.post("/auth/loginConfig",e)})({signInMode:"SignInAndRegister",socialSignInConnectorTargets:e.socialValue,signInMethods:{sms:n,email:t,social:s,username:a}}).then((function(){return alert("\u4fdd\u5b58\u6210\u529f")}))},children:[(0,p.jsxs)("div",{className:Ee().title,children:[(0,p.jsx)("h1",{children:"\u767b\u5f55\u4f53\u9a8c\u8bbe\u7f6e"}),(0,p.jsx)("h2",{children:"\u81ea\u5b9a\u4e49\u767b\u5f55\u754c\u9762\uff0c\u5e76\u5b9e\u65f6\u9884\u89c8\u771f\u5b9e\u6548\u679c"})]}),(0,p.jsxs)("div",{className:Ee().mainLogin,children:[(0,p.jsxs)("div",{className:Ee().mainLoginTitle,children:[(0,p.jsx)("span",{children:"//"}),(0,p.jsx)("span",{children:"\u4e3b\u8981\u767b\u5f55\u65b9\u5f0f"})]}),(0,p.jsx)(be.Z.Item,{style:{width:"100%"},name:"mainLoginMethod",children:(0,p.jsxs)(ge.default,{style:{width:"100%"},children:[(0,p.jsx)(Be,{value:"username",children:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55"}),(0,p.jsx)(Be,{value:"email",children:"\u90ae\u7bb1\u767b\u5f55"}),(0,p.jsx)(Be,{value:"sms",children:"\u624b\u673a\u53f7\u767b\u5f55"}),(0,p.jsx)(Be,{value:"social",children:"\u793e\u4ea4\u8d26\u53f7\u767b\u5f55"})]})}),function(e){switch(e){case"email":return!T&&(0,p.jsx)("div",{className:Ee().mainLoginHint,children:V("\u90ae\u7bb1")});case"sms":return!S&&(0,p.jsx)("div",{className:Ee().mainLoginHint,children:V("SMS")});case"social":return!E&&(0,p.jsx)("div",{className:Ee().mainLoginHint,children:V("\u793e\u4ea4")});default:return null}}(L)]}),"social"===L&&!O&&(0,p.jsx)("div",{children:(0,p.jsx)(be.Z.Item,{name:"socialValue",children:(0,p.jsx)(Ae,{data:I,onChange:B,selectedData:null!==(l=null===o||void 0===o?void 0:o.socialSignInConnectorTargets)&&void 0!==l?l:[]})})}),(0,p.jsxs)("div",{className:Ee().otherLogin,children:[(0,p.jsxs)("div",{className:Ee().otherLoginTitle,children:[(0,p.jsx)("span",{children:"//"}),(0,p.jsx)("span",{children:"\u542f\u7528\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f"})]}),(0,p.jsxs)("div",{className:Ee().otherLoginExplain,children:[(0,p.jsx)("span",{children:"\u5f00\u542f\u540e\uff0c\u9664\u4e86\u4e3b\u8981\u767b\u5f55\u65b9\u5f0f\uff0c\u4f60\u7684app\u5c06\u4f1a\u652f\u6301\u66f4\u591a\u5176\u4ed6\u7684\u767b\u5f55\u65b9\u5f0f"}),(0,p.jsx)(be.Z.Item,{name:"otherMethodAvailable",valuePropName:"checked",children:(0,p.jsx)(Ce.Z,{size:"small"})})]})]}),O&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:Ee().passwordLogin,children:(0,p.jsx)(be.Z.Item,{name:"username",valuePropName:"checked",children:(0,p.jsx)(we.default,{disabled:"username"===L,children:(0,p.jsxs)("div",{className:Ee().checkboxLabel,children:[(0,p.jsx)("span",{children:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55"}),"username"===L&&(0,p.jsx)("div",{className:Ee().passwordLoginSubHeading,children:"\uff08\u4e3b\u8981\uff09"})]})})})}),(0,p.jsxs)("div",{className:Ee().loginItemWrapper,children:[(0,p.jsx)(be.Z.Item,{name:"email",valuePropName:"checked",children:(0,p.jsx)(we.default,{disabled:"email"===L,children:(0,p.jsxs)("div",{className:Ee().checkboxLabel,children:[(0,p.jsx)("span",{children:"\u90ae\u7bb1\u767b\u5f55"}),"email"===L&&(0,p.jsx)("div",{className:Ee().passwordLoginSubHeading,children:"\uff08\u4e3b\u8981\uff09"})]})})}),W&&"email"!==L&&!T&&V("\u90ae\u7bb1")]}),(0,p.jsxs)("div",{className:Ee().loginItemWrapper,children:[(0,p.jsx)(be.Z.Item,{name:"sms",valuePropName:"checked",children:(0,p.jsx)(we.default,{disabled:"sms"===L,children:(0,p.jsxs)("div",{className:Ee().checkboxLabel,children:[(0,p.jsx)("span",{children:"\u624b\u673a\u53f7\u767b\u5f55"}),"sms"===L&&(0,p.jsx)("div",{className:Ee().passwordLoginSubHeading,children:"\uff08\u4e3b\u8981\uff09"})]})})}),A&&"sms"!==L&&!S&&V("SMS")]}),(0,p.jsxs)("div",{className:Ee().loginItemWrapper,children:[(0,p.jsx)(be.Z.Item,{name:"social",valuePropName:"checked",children:(0,p.jsx)(we.default,{disabled:"social"===L,children:(0,p.jsxs)("div",{className:Ee().checkboxLabel,children:[(0,p.jsx)("span",{children:"\u793e\u4ea4\u8d26\u53f7\u767b\u5f55"}),"social"===L&&(0,p.jsx)("div",{className:Ee().passwordLoginSubHeading,children:"\uff08\u4e3b\u8981\uff09"})]})})}),M&&"social"!==L&&!E&&V("\u793e\u4ea4")]}),M&&(0,p.jsx)("div",{children:(0,p.jsx)(be.Z.Item,{name:"socialValue",children:(0,p.jsx)(Ae,{data:I,onChange:B,selectedData:null!==(c=null===o||void 0===o?void 0:o.socialSignInConnectorTargets)&&void 0!==c?c:[]})})})]}),(0,p.jsx)("div",{children:(0,p.jsx)(be.Z.Item,{children:(0,p.jsx)("div",{className:Ee().saveWrapper,children:(0,p.jsx)(a.default,{className:Ee().save,type:"primary",htmlType:"submit",children:"\u4fdd\u5b58"})})})})]})})},Ve=t(81378),Ue=function(e){var n=e.data,t=(0,u.useState)(n),s=t[0],i=t[1],l=be.Z.useForm(),c=(0,r.Z)(l,1)[0];return(0,u.useEffect)((function(){i(n)}),[n]),s?(0,p.jsx)("div",{className:"w-1/2 pr-6",children:(0,p.jsxs)(be.Z,{form:c,name:"basic",initialValues:s,onFinish:function(e){D.Z.post("/auth/otherConfig",{enabled:null===e||void 0===e?void 0:e.enabled,contentUrl:null===e||void 0===e?void 0:e.contractUrl})},children:[(0,p.jsx)("div",{className:"text-xs text-[#AFB0B4] mb-4.5",children:"\u4f7f\u7528\u6761\u6b3e"}),(0,p.jsxs)("div",{className:"text-sm mb-2",children:[(0,p.jsx)("span",{className:"text-[#E13D5BFF]",children:"//"})," \u5f00\u542f\u4f7f\u7528\u6761\u6b3e"]}),(0,p.jsxs)("div",{className:"flex justify-between items-center py-10px px-3 bg-[#F8F9FB]",children:[(0,p.jsx)("span",{className:"pr-8 text-sm text-[#5F6269]",children:"\u6dfb\u52a0\u4f7f\u7528\u4ea7\u54c1\u7684\u6cd5\u5f8b\u534f\u8bae"}),(0,p.jsx)(be.Z.Item,{valuePropName:"checked",name:"enabled",children:(0,p.jsx)(Ce.Z,{className:"ml-8",size:"small"})})]}),(0,p.jsxs)("div",{className:"text-sm mt-4 mb-2",children:[(0,p.jsx)("span",{className:"text-[#E13D5BFF]",children:"//"})," \u4f7f\u7528\u6761\u6b3e"]}),(0,p.jsx)(be.Z.Item,{name:"contractUrl",children:(0,p.jsx)(je.default,{})}),(0,p.jsx)(be.Z.Item,{children:(0,p.jsx)(a.default,{className:"float-right mt-10",type:"primary",htmlType:"submit",children:"\u4fdd\u5b58"})})]})}):(0,p.jsx)(Ve.Z,{})},Je=[{title:"\u54c1\u724c",key:"0"},{title:"\u767b\u5f55\u65b9\u5f0f",key:"1"},{title:"\u5176\u4ed6",key:"2"}],Re=function(e){var n=e.handleTopToggleDesigner,t=(0,S.ZP)("/auth/loginConfig",D.p),s=T(),a=t.data,i=s.data,r=(0,u.useContext)(x.In).connectorDispatch,l=(0,u.useState)("0"),c=l[0],o=l[1],d=(0,u.useState)(),m=d[0],h=d[1],f=(0,u.useState)(),j=f[0],b=f[1];return(0,u.useEffect)((function(){r({type:"fetchConnector",payload:i||[]})}),[i]),(0,u.useEffect)((function(){(0,D.p)("/auth/brand").then((function(e){h({darkMode:e.color.isDarkModeEnabled,color:e.color.primaryColor,logo:e.branding.logoUrl,slogan:e.branding.logoUrl})}))}),[]),(0,u.useEffect)((function(){(0,D.p)("/auth/otherConfig").then((function(e){b({enabled:e.enabled,contractUrl:e.contentUrl})}))}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fe.Z,{tabs:Je,onTabClick:o,activeKey:c}),(0,p.jsxs)("div",{className:"flex",children:["0"===c?(0,p.jsx)(ve,{data:m}):"1"===c?(0,p.jsx)(p.Fragment,{children:a&&(0,p.jsx)(He,{handleTopToggleDesigner:n,data:a,connectorsData:i})}):(0,p.jsx)(Ue,{data:j}),(0,p.jsx)(ke,{})]})]})},ze=(t(22694),t(1980)),Ke=t(77266),Ge=t(91863),qe=t(26052),Qe=t.n(qe);function Xe(e){var n,t,s=e.content,i=(0,u.useContext)(x.Mp).handleBottomToggleDesigner,l=(0,m.x)(!1),c=(0,r.Z)(l,2),o=c[0],d=c[1];if(!s)return(0,p.jsx)(Ve.Z,{});var h=s.config,f=0==(null===(n=s.switchState)||void 0===n?void 0:n.length)?"\u4e0d\u5f00\u542f":2==(null===(t=s.switchState)||void 0===t?void 0:t.length)?"\u57fa\u4e8eToken\u548cCookie":"tokenBased"==s.switchState[0]?"\u57fa\u4e8eToken":"cookieBased"==s.switchState[0]?"\u57fa\u4e8eCookie":"";return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"pb-3 flex items-center justify-between border-gray border-b",children:[(0,p.jsx)("div",{className:"h-7",children:(0,p.jsxs)("span",{className:"ml-2 text-sm font-bold",children:[s.name," ",(0,p.jsx)("span",{className:"text-xs text-gray-500/80",children:s.authSupplier})]})}),(0,p.jsx)(a.default,{className:"".concat(Qe()["save-btn"],"  ml-4"),onClick:function(){i("edit",s.id)},children:(0,p.jsx)("span",{children:"\u7f16\u8f91"})})]}),(0,p.jsx)("div",{className:"mt-8",children:(0,p.jsxs)(ze.default,{bordered:!0,column:1,size:"small",labelStyle:{color:"#5F6269",backgroundColor:"white",width:"30%",borderRight:"none",borderBottom:"none"},children:[(0,p.jsx)(ze.default.Item,{label:"\u4f9b\u5e94\u5546ID",children:h.id}),(0,p.jsx)(ze.default.Item,{label:"App ID",children:h.clientId}),(0,p.jsx)(ze.default.Item,{label:"App Secret",children:(0,p.jsx)("span",{onClick:function(){d(!o)},children:o?(0,p.jsxs)("div",{children:[h.clientSecret,(0,p.jsx)(Ke.Z,{className:"ml-6"})]}):h.clientSecret?(0,p.jsxs)("div",{children:["***********",(0,p.jsx)(Ge.Z,{className:"ml-6"})]}):""})}),(0,p.jsx)(ze.default.Item,{label:"Issuer",children:h.issuer}),(0,p.jsx)(ze.default.Item,{label:"\u670d\u52a1\u53d1\u73b0\u5730\u5740",children:"".concat(h.issuer,"/.well-known/openid-configuration")}),(0,p.jsx)(ze.default.Item,{label:"JWKS",children:0==h.jwks?"URL":"JSON"}),0===h.jwks?(0,p.jsx)(ze.default.Item,{label:"jwksURL",children:"".concat(h.issuer,"/.well-known/jwks.json")}):(0,p.jsx)(ze.default.Item,{label:"jwksJSON",children:(0,p.jsx)("pre",{children:h.jwksJSON})}),(0,p.jsx)(ze.default.Item,{label:"\u7528\u6237\u7aef\u70b9",children:"".concat(h.issuer,"/me")}),(0,p.jsx)(ze.default.Item,{label:"\u662f\u5426\u5f00\u542f",children:f})]})})]})}t(24e3);var Ye=t(49164);function $e(){var e=(0,u.useState)(),n=e[0],t=e[1],s=(0,u.useState)(),i=s[0],r=s[1],l=(0,u.useState)([]),c=l[0],o=l[1],d=(0,u.useState)(!0),m=d[0],x=d[1],h=(0,u.useMemo)((function(){var e=null===n||void 0===n?void 0:n.find((function(e){return e.value===i}));return null===e||void 0===e?void 0:e.label}),[n,i]);return(0,u.useEffect)((function(){(0,D.p)("/dataSource").then((function(e){var n,s=e.map((function(e){return{label:e.name,value:e.id.toString()}}));t(s),r(null===(n=s.at(0))||void 0===n?void 0:n.value)}))}),[]),(0,u.useEffect)((function(){i&&(0,D.p)("/oauth/tables/".concat(null!==i&&void 0!==i?i:"")).then((function(e){var n=e.exist.map((function(e){return{name:e,isOk:!0}})),t=e.notExist.map((function(e){return{name:e,isOk:!1}}));x(0===t.length),o(n.concat(t))}))}),[i]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex items-center my-6",children:[(0,p.jsx)("div",{className:"text-base mr-4",children:"\u6570\u636e\u5e93"}),(0,p.jsx)(ge.default,{size:"middle",value:null!==i&&void 0!==i?i:"",style:{width:270},onChange:function(e){console.log("selected ".concat(e))},options:n}),(0,p.jsxs)("div",{className:"ml-6 text-[#00000040]",children:[(0,p.jsx)(v.Z,{type:"icon-zhuyi",style:{fontSize:"14px",color:"#00000040"}}),(0,p.jsx)("span",{className:"ml-2",children:"\u914d\u7f6e\u6570\u636e\u5e93\u4e14\u5bfc\u5165\u8868\u7ed3\u6784\u540e\uff0c\u8be5\u6a21\u5757\u65b9\u53ef\u6b63\u5e38\u4f7f\u7528"})]})]}),(0,p.jsx)("div",{className:"px-6 py-4 text-base rounded bg-[#E0202017] text-[#000000D9]",style:{border:"1px solid #E02020"},children:m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("a",{download:"\u9884\u7f6e",href:"/api/v1/oauth/tables/".concat(null!==i&&void 0!==i?i:"","/export"),children:"\u4e0b\u8f7d"})," ","\u9884\u7f6e\u8868\u7ed3\u6784\uff0c\u624b\u5de5\u5bfc\u5165"]}):(0,p.jsxs)(p.Fragment,{children:["\u6240\u9009\u6570\u636e\u5e93\u6682\u65e0\u9884\u5236\u8868\u7ed3\u6784\uff0c\u662f\u5426\u5bfc\u5165\uff1f",(0,p.jsx)(Ye.Z,{action:"/api/v1/oauth/tables/".concat(null!==i&&void 0!==i?i:"","/import"),showUploadList:!1,children:(0,p.jsx)(a.default,{type:"primary",children:"\u5bfc\u5165"})})]})}),(0,p.jsxs)("div",{className:"mt-7 ",children:[(0,p.jsxs)("div",{className:"px-8 py-3 text-base text-[#787D8B]",children:[(0,p.jsx)("span",{children:"\u6570\u636e\u5e93\uff1a"}),(0,p.jsx)("span",{children:h})]}),(0,p.jsx)("div",{style:{border:"1px solid rgba(95,98,105,0.1)"}}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("div",{children:c.filter((function(e){return!0===e.isOk})).map((function(e){return(0,p.jsxs)("div",{className:"flex items-center mt-3 mx-8 my-1.5 text-base",children:[(0,p.jsx)("div",{className:"mr-4",children:"\u2705"}),(0,p.jsx)("div",{className:"text-base text-[#000000D9]",children:e.name})]},e.name)}))}),(0,p.jsx)("div",{children:c.filter((function(e){return!1===e.isOk})).map((function(e){return(0,p.jsxs)("div",{className:"flex items-center mt-3 mx-8 my-1.5 text-base",children:[(0,p.jsx)("div",{className:"mr-4",children:"\u274e"}),(0,p.jsx)("div",{className:"text-base text-[#000000D9]",children:e.name})]},e.name)}))})]})]})]})}t(54254);var en=t(60346),nn=(t(61258),t(31333)),tn=t(62543),sn=t(37558);function an(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function rn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?an(Object(t),!0).forEach((function(n){(0,N.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):an(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}sn._m.config({paths:{vs:"https://cdn.bootcdn.net/ajax/libs/monaco-editor/0.33.0/min/vs"}});var ln=[{label:"\u57fa\u4e8eCookie",value:"cookieBased"},{label:"\u57fa\u4e8eToken",value:"tokenBased"}];function cn(e){var n=e.content,t=(0,u.useContext)(x.Mp).handleBottomToggleDesigner,s=(0,u.useContext)(x.k8),i=be.Z.useForm(),l=(0,r.Z)(i,1)[0],c=(0,m.x)(""),o=(0,r.Z)(c,2),d=o[0],h=o[1],f=n.config,j=(0,m.x)(1==f.jwks),b=(0,r.Z)(j,2),v=b[0],g=b[1],_=(0,m.x)(!1),y=(0,r.Z)(_,2),N=y[0],Z=y[1],k=(0,m.x)(""),w=(0,r.Z)(k,2),C=w[0],I=w[1];if(!n)return(0,p.jsx)(Ve.Z,{});var S=function(){var e=(0,se.Z)(ie().mark((function e(a){var i,r,l,c;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=rn(rn({},f),a),r=rn(rn({},n),{},{switchState:a.switchState,name:a.id}),""!=n.name){e.next=11;break}return l=rn(rn({},r),{},{config:i}),Reflect.deleteProperty(l,"id"),e.next=7,D.Z.post("/auth",l);case 7:c=e.sent,n.id=c,e.next=13;break;case 11:return e.next=13,D.Z.put("/auth",rn(rn({},r),{},{config:i}));case 13:D.Z.get("/auth").then((function(e){s({type:"fetched",data:e})})).then((function(){t("data",n.id)}));case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=n.name?{id:f.id,clientId:f.clientId,clientSecret:f.clientSecret,issuer:f.issuer,jwks:f.jwks,jwksJSON:f.jwksJSON,switchState:n.switchState}:{id:"",clientId:"",clientSecret:"",issuer:"",jwks:0,jwksJSON:"",switchState:[]};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"pb-3 flex items-center justify-between border-gray border-b",children:[""==n.name?(0,p.jsx)("div",{className:"h-7",children:(0,p.jsxs)("span",{className:"ml-2 font-bold",children:["\u7cfb\u7edf\u9ed8\u8ba4 ",(0,p.jsx)("span",{className:"text-xs text-gray-500/80",children:"openid"})]})}):(0,p.jsx)("div",{className:"h-7",children:(0,p.jsxs)("span",{className:"ml-2 font-bold",children:[n.name,(0,p.jsx)("span",{className:"text-xs text-gray-500/80",children:n.authSupplier})]})}),(0,p.jsxs)("div",{className:"flex justify-center items-center",children:[(0,p.jsx)(nn.Z,{type:"vertical"}),(0,p.jsx)(a.default,{className:Qe()["center-btn"],onClick:function(){t("data",n.id)},children:(0,p.jsx)("span",{children:"\u53d6\u6d88"})}),(0,p.jsx)(a.default,{disabled:N,className:Qe()["save-btn"],onClick:function(){l.submit()},children:""==n.name?"\u521b\u5efa":"\u4fdd\u5b58"})]})]}),(0,p.jsx)("div",{className:"".concat(Qe()["db-check-setting"],"  mt-2 cursor-pointer"),children:(0,p.jsxs)("span",{className:" w-19 h-5 float-right",children:["\u524d\u5f80\u7ba1\u7406 ",(0,p.jsx)(tn.Z,{})]})}),(0,p.jsx)("div",{className:"".concat(Qe()["edit-form-contain"]," py-6 rounded-xl mb-4"),children:(0,p.jsxs)(be.Z,{form:l,style:{width:"90%"},name:"basic",labelCol:{span:3},wrapperCol:{span:11},onFinish:function(e){S(e)},onValuesChange:function(e,n){for(var t in I(n.issuer),n)if(void 0==n[t])return void Z(!0);Z(!1)},autoComplete:"new-password",validateTrigger:"onBlur",labelAlign:"left",initialValues:T,children:[(0,p.jsx)(be.Z.Item,{label:"\u4f9b\u5e94\u5546ID",name:"id",rules:[{required:!0,message:"\u4f9b\u5e94\u5546ID\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:new RegExp("^\\w+$","g"),message:"\u53ea\u5141\u8bb8\u5305\u542b\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf"}],children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165...",autoComplete:"off",autoFocus:!0})}),(0,p.jsx)(be.Z.Item,{label:"App ID",name:"clientId",rules:[{required:!0,message:"App ID\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:new RegExp("^\\w+$","g"),message:"\u53ea\u5141\u8bb8\u5305\u542b\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf"}],children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165..."})}),(0,p.jsx)(be.Z.Item,{label:"App Secret",name:"clientSecret",rules:[{required:!0,message:"App Secret\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:new RegExp("^\\w+$","g"),message:"\u53ea\u5141\u8bb8\u5305\u542b\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf"}],children:(0,p.jsx)(je.default.Password,{placeholder:"\u8bf7\u8f93\u5165..."})}),(0,p.jsx)(be.Z.Item,{label:"Issuer",name:"issuer",rules:[{required:!0,message:"Issuer\u4e0d\u80fd\u4e3a\u7a7a"},{pattern:/^https?:\/\/[.\w\d/]+$/,message:"\u53ea\u5141\u8bb8\u8f93\u5165\u94fe\u63a5"}],children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165...",value:C})}),(0,p.jsx)(be.Z.Item,{label:"\u670d\u52a1\u53d1\u73b0\u5730\u5740",children:(0,p.jsx)(je.default,{value:"".concat(C,"/.well-known/openid-configuration"),disabled:!0})}),(0,p.jsx)(be.Z.Item,{label:"JWKS",name:"jwks",children:(0,p.jsxs)(en.default.Group,{onChange:function(e){!function(e){h(e),g("1"==e)}(e.target.value)},value:d,children:[(0,p.jsx)(en.default,{value:0,children:"URL"}),(0,p.jsx)(en.default,{value:1,children:"JSON"})]})}),v?(0,p.jsx)(be.Z.Item,{label:"jwksJSON",name:"jwksJSON",children:(0,p.jsx)(sn.ZP,{height:"20vh",defaultLanguage:"typescript",defaultValue:"// some comment",className:Qe()["monaco-edit"]})}):(0,p.jsx)(be.Z.Item,{label:"jwksURL",children:(0,p.jsx)(je.default,{disabled:!0,value:"".concat(C,"/.well-known/jwks.json"),suffix:"\u6d4f\u89c8"})}),(0,p.jsx)(be.Z.Item,{label:"\u7528\u6237\u7aef\u70b9",children:(0,p.jsx)(je.default,{disabled:!0,value:"".concat(C,"/me")})}),(0,p.jsx)(be.Z.Item,{label:"\u662f\u5426\u5f00\u542f",name:"switchState",children:(0,p.jsx)(we.default.Group,{options:ln})})]})})]})}var on=t(44049),dn=t(18419),un=t(72340);sn._m.config({paths:{vs:"https://cdn.bootcdn.net/ajax/libs/monaco-editor/0.33.0/min/vs"}});var mn=y.Z.TabPane;function xn(){var e=be.Z.useForm(),n=(0,r.Z)(e,1)[0],t=(0,m.x)(!1),s=(0,r.Z)(t,2),i=s[0],l=s[1],c=(0,m.x)([]),o=(0,r.Z)(c,2),d=o[0],x=o[1],h=(0,u.useState)(),f=h[0],j=h[1],b=(0,u.useState)("postAuthentication"),v=b[0],g=b[1],_=(0,m.x)([]),N=(0,r.Z)(_,2),Z=N[0],k=N[1],w=(0,u.useState)([]),C=w[0],I=w[1],S=(0,u.useState)(),T=S[0],P=S[1];(0,u.useEffect)((function(){D.Z.get("/role").then((function(e){x(e)}))}),[f]);var F=function(){var e=(0,se.Z)(ie().mark((function e(n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Z.post("/role",n);case 2:j(!f);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=(0,se.Z)(ie().mark((function e(n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Z.delete("/role/".concat(n));case 2:j(!f);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=[{title:"\u89d2\u8272",dataIndex:"code",key:"code"},{title:"\u89d2\u8272\u63cf\u8ff0",dataIndex:"remark",key:"remark"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",key:"create_time"},{title:"\u64cd\u4f5c",key:4,render:function(e,n){var t=n.id;return(0,p.jsx)("span",{className:"pl-0 text-red-500",onClick:function(){O(t)},children:"\u5220\u9664"})}}];(0,u.useEffect)((function(){(0,D.p)("/auth/hooks").then((function(e){return k(e)})).catch((function(e){throw e}))}),[T]),(0,u.useEffect)((function(){D.Z.get("/auth/hooks").then((function(e){return k(e),e})).then((function(e){return I(e.map((function(e){return{key:e.hookName,title:e.hookName}})))}))}),[]);var W=(0,u.useMemo)((function(){return null===Z||void 0===Z?void 0:Z.find((function(e){return e.hookName===v}))}),[v,Z]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(y.Z,{defaultActiveKey:"1",children:[(0,p.jsxs)(mn,{tab:"\u89d2\u8272\u7ba1\u7406",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,p.jsx)("span",{className:"text-base text-gray",children:"\u89d2\u8272\u7ba1\u7406"}),(0,p.jsx)(a.default,{className:"px-4 py-0 h-7.5",onClick:function(){l(!0)},children:(0,p.jsx)("span",{className:"text-sm text-gray",children:"\u6dfb\u52a0"})})]}),(0,p.jsx)(L.Z,{mask:!1,title:"\u6dfb\u52a0",style:{top:"200px"},width:549,transitionName:"",open:i,onOk:function(){return l(!1)},onCancel:function(){return l(!1)},okText:(0,p.jsx)(a.default,{className:Qe()["save-btn"],onClick:function(){n.submit()},children:(0,p.jsx)("span",{children:"\u4fdd\u5b58"})}),okType:"text",cancelText:"\u53d6\u6d88",children:(0,p.jsxs)(be.Z,{name:"roleList",form:n,labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){F(e)},autoComplete:"off",labelAlign:"left",className:"h-30 mt-8 ml-8",children:[(0,p.jsx)(be.Z.Item,{label:"\u89d2\u8272code",name:"code",rules:[{required:!0,message:"Please input your roleCode!"}],children:(0,p.jsx)(je.default,{})}),(0,p.jsx)(be.Z.Item,{label:"\u89d2\u8272\u63cf\u8ff0",name:"remark",children:(0,p.jsx)(je.default,{})})]})}),(0,p.jsx)("div",{className:Qe()["role-container-table"],children:d.length>0?(0,p.jsx)(E.Z,{columns:M,dataSource:d,rowKey:function(e){return e.id},rowClassName:function(e,n){return n%2===1?Qe()["role-table"]:""},pagination:!1}):(0,p.jsx)(E.Z,{columns:M,dataSource:[],rowKey:function(e){return e.id},rowClassName:function(e,n){return n%2===1?Qe()["role-table"]:""},pagination:!1})})]},"1"),(0,p.jsx)(mn,{tab:"\u8eab\u4efd\u9274\u6743",children:(0,p.jsxs)("div",{children:[(0,p.jsx)(fe.Z,{tabs:C,onTabClick:g,activeKey:v}),(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)("div",{className:Qe()["auth-head"],children:[(0,p.jsx)(on.Z,{}),(0,p.jsx)("span",{children:"\u6839\u636e\u5404\u79cd\u63d0\u4f9b\u5668\u9009\u62e9\u903b\u8f91\uff0c\u83b7\u53d6\u5f53\u524d\u7528\u6237\u7684\u89d2\u8272"})]}),(0,p.jsxs)("div",{className:"".concat(Qe()["auth-btn"]," flex items-center mr-2"),children:[(0,p.jsx)(a.default,{type:"text",icon:(0,p.jsx)(dn.Z,{}),children:"\u6d4b\u8bd5"}),(0,p.jsx)(a.default,{type:"text",icon:(0,p.jsx)(Le.Z,{}),children:"\u6dfb\u52a0"}),(0,p.jsx)(a.default,{type:"text",icon:(0,p.jsx)(un.Z,{}),children:"\u7ba1\u7406"}),(0,p.jsx)(a.default,{type:"text",icon:(0,p.jsx)(dn.Z,{}),children:"\u9009\u62e9"}),(0,p.jsx)("div",{className:"text-[#E92E5E] cursor-pointer",onClick:function(){D.Z.post("/auth/hooks",{hookName:v,content:null===W||void 0===W?void 0:W.content,hookSwitch:null===W||void 0===W?void 0:W.hookSwitch}),P(!T)},children:(0,p.jsx)("span",{className:"leading-20px ml-1",children:"\u4fdd\u5b58"})}),(0,p.jsx)(Ce.Z,{onClick:function(){D.Z.post("/auth/hooks",{hookName:v,hookSwitch:!(null!==W&&void 0!==W&&W.hookSwitch),content:null===W||void 0===W?void 0:W.content}),P(!T)},checked:null===W||void 0===W?void 0:W.hookSwitch})]})]}),(0,p.jsx)(sn.ZP,{height:"90vh",defaultLanguage:"typescript",defaultValue:"// some comment",value:null===W||void 0===W?void 0:W.content,onChange:function(e){return function(e){e&&k((function(n){var t=n.find((function(e){return e.hookName===v}));t||(t={content:"",fileName:"",hookName:v,hookSwitch:!1}),t.content=e}))}(e)},className:"mt-4 ".concat(Qe().monaco)})]})},"2")]})})}var hn=t(31774),pn=(t(19181),t(25880)),fn=(t(98565),t(62301)),jn=(t(11422),t(97334));sn._m.config({paths:{vs:"https://cdn.bootcdn.net/ajax/libs/monaco-editor/0.33.0/min/vs"}});var bn=y.Z.TabPane,vn=ge.default.Option;function gn(){var e,n,t=be.Z.useForm(),s=(0,r.Z)(t,1)[0],i=(0,m.x)(!1),l=(0,r.Z)(i,2),c=l[0],o=l[1],d=(0,m.x)([]),h=(0,r.Z)(d,2),f=h[0],j=h[1],b=(0,u.useContext)(x.oP),g=b.authUserCurr,_=b.setAuthUserCurr,N=(0,m.x)(!1),Z=(0,r.Z)(N,2),k=Z[0],w=Z[1],C=function(e){D.Z.put("/oauth/".concat(g.id),{values:e})};(0,u.useEffect)((function(){(0,D.p)("/oauth/role/".concat(g.id)).then((function(e){return j(e)}))}),[g.id,k]);var I=[{title:"\u89d2\u8272",dataIndex:"code",key:"code"},{title:"\u89d2\u8272\u63cf\u8ff0",dataIndex:"remark",key:"remark"},{title:"\u64cd\u4f5c",key:4,render:function(e,n){var t=n.id;return(0,p.jsx)("span",{className:"pl-0 text-red-500 cursor-pointer",onClick:function(){S(t)},children:"\u64a4\u9500\u89d2\u8272"})}}],S=function(e){D.Z.post("/oauth/role/".concat(e)).then((function(){return w(!k)}))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(y.Z,{defaultActiveKey:"1",children:[(0,p.jsxs)(bn,{tab:"\u7528\u6237\u4fe1\u606f",children:[(0,p.jsx)("div",{className:Qe()["user-info"],children:"\u4e2a\u4eba\u4fe1\u606f"}),(0,p.jsxs)(be.Z,{name:"basic",labelCol:{span:6},wrapperCol:{span:20},initialValues:g,onFinish:function(e){C(e)},autoComplete:"off",labelAlign:"left",className:Qe()["form-style"],onValuesChange:function(e,n){_(n)},children:[(0,p.jsxs)(fn.Z,{children:[(0,p.jsx)(jn.Z,{span:8,children:(0,p.jsx)(be.Z.Item,{label:"\u7528\u6237\u540d",name:"name",children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165"})})}),(0,p.jsx)(jn.Z,{span:8,children:(0,p.jsx)(be.Z.Item,{label:"\u6635\u79f0",name:"nickName",children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165"})})}),(0,p.jsx)(jn.Z,{span:8,children:(0,p.jsx)(be.Z.Item,{label:"\u59d3\u540d",name:"metaData.realname",initialValue:null===(e=g.metaData)||void 0===e?void 0:e.realname,children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165"})})})]}),(0,p.jsxs)(fn.Z,{children:[(0,p.jsx)(jn.Z,{span:8,children:(0,p.jsx)(be.Z.Item,{label:"\u6027\u522b",name:"metaData.gender",children:(0,p.jsxs)(ge.default,{placeholder:"\u8bf7\u8f93\u5165",children:[(0,p.jsx)(ge.default.Option,{value:"\u7537",children:"\u7537"}),(0,p.jsx)(ge.default.Option,{value:"\u5973",children:"\u5973"})]})})}),(0,p.jsx)(jn.Z,{span:8,children:(0,p.jsx)(be.Z.Item,{label:"\u751f\u65e5",name:"metaData.birthday",children:(0,p.jsx)(pn.Z,{placeholder:"\u8bf7\u8f93\u5165"})})}),(0,p.jsx)(jn.Z,{span:8,children:(0,p.jsx)(be.Z.Item,{label:"\u624b\u673a\u53f7",name:"mobile",children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165"})})})]}),(0,p.jsxs)(fn.Z,{children:[(0,p.jsx)(jn.Z,{span:8,children:(0,p.jsx)(be.Z.Item,{label:"\u90ae\u7bb1",name:"email",children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165"})})}),(0,p.jsx)(jn.Z,{span:8,children:(0,p.jsx)(be.Z.Item,{label:"\u90ae\u653f\u7f16\u7801",name:"metaData.postCode",initialValue:null===(n=g.metaData)||void 0===n?void 0:n.postCode,children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165"})})}),(0,p.jsx)(jn.Z,{span:8,children:(0,p.jsx)(be.Z.Item,{label:"\u539f\u7cfb\u7edfID",name:"metaData.originID",children:(0,p.jsx)(je.default,{placeholder:"\u8bf7\u8f93\u5165"})})})]}),(0,p.jsx)(fn.Z,{children:(0,p.jsx)(jn.Z,{span:24,style:{textAlign:"center"},children:(0,p.jsxs)(be.Z.Item,{wrapperCol:{span:24},children:[(0,p.jsx)(a.default,{className:"".concat(Qe()["connect-check-btn-common"]," w-15 ml-4"),children:(0,p.jsx)("span",{className:"text-sm text-gray",onClick:function(){return s.resetFields()},children:"\u91cd\u7f6e"})}),(0,p.jsx)(a.default,{className:"".concat(Qe()["save-btn"]," ml-4"),htmlType:"submit",children:"\u4fdd\u5b58"})]})})})]}),(0,p.jsxs)("div",{className:"".concat(Qe()["mid-word"]," flex justify-between items-center"),children:[(0,p.jsx)("span",{children:"\u539f\u59cbjson\u6570\u636e"}),(0,p.jsxs)("div",{className:Qe()["right-word"],children:[(0,p.jsx)(v.Z,{type:"icon-fuzhi",className:"text-[10px] text-[#E92E5E]"}),(0,p.jsx)("span",{children:"\u590d\u5236"})]})]}),(0,p.jsx)(sn.ZP,{height:"90vh",defaultLanguage:"typescript",defaultValue:"",value:JSON.stringify(g,null,2),className:"mt-4 ".concat(Qe().monaco)})]},"1"),(0,p.jsxs)(bn,{tab:"\u89d2\u8272\u6743\u9650",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,p.jsx)("span",{className:"text-base text-gray",children:"\u7528\u6237\u89d2\u8272"}),(0,p.jsx)(a.default,{className:"px-4 py-0 h-7.5",onClick:function(){o(!0)},children:(0,p.jsx)("span",{className:"text-sm text-gray",children:"\u6dfb\u52a0"})})]}),(0,p.jsx)(L.Z,{mask:!1,title:"\u7528\u6237\u89d2\u8272",width:549,style:{top:"300px"},transitionName:"",open:c,onOk:function(){return o(!1)},onCancel:function(){return o(!1)},okText:(0,p.jsx)(a.default,{className:Qe()["save-btn"],onClick:function(){s.submit()},children:(0,p.jsx)("span",{children:"\u786e\u5b9a"})}),okType:"text",cancelText:"\u53d6\u6d88",children:(0,p.jsx)(be.Z,{name:"roleList",form:s,labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){C(e)},autoComplete:"off",labelAlign:"left",className:"h-30 mt-8 ml-8",children:(0,p.jsx)(be.Z.Item,{label:"\u9009\u62e9\u89d2\u8272",name:"code",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4f60\u7684\u89d2\u8272"}],children:(0,p.jsx)(ge.default,{children:(0,p.jsxs)(vn,{value:"1",children:[(0,p.jsx)("span",{className:"mr-2 text-lg ",children:"user"}),(0,p.jsx)("span",{className:"text-[#AFB0B4] text-xs ",children:"\u666e\u901a\u7528\u6237"})]})})})})}),(0,p.jsx)("div",{className:Qe()["role-container-table"],children:f.length>0?(0,p.jsx)(E.Z,{columns:I,dataSource:f,rowKey:function(e){return e.id},rowClassName:function(e,n){return n%2===1?Qe()["role-table"]:""},pagination:!1}):(0,p.jsx)(E.Z,{columns:I,dataSource:[],rowKey:function(e){return e.id},rowClassName:function(e,n){return n%2===1?Qe()["role-table"]:""},pagination:!1})})]},"2")]})})}t(2367);var _n=t(61333);function yn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function Nn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yn(Object(t),!0).forEach((function(n){(0,N.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Zn=[{id:1,key:1,name:"Alean",triggerEvents:["\u4fee\u6539\u5bc6\u7801","\u521b\u5efa\u7528\u6237"],status:"\u6b63\u5e38",createTime:"2022-06-27 15:47:14"},{id:2,key:2,name:"Alean",triggerEvents:["\u4fee\u6539\u5bc6\u7801","\u521b\u5efa\u7528\u6237"],status:"\u6b63\u5e38",createTime:"2022-06-27 15:47:14"}],kn=[{label:"\u4fee\u6539\u7528\u6237\u5bc6\u7801",value:"Apple"},{label:"\u521b\u5efa\u7528\u6237",value:"Pear"},{label:"\u6210\u529f\u9a8c\u8bc1\u90ae\u7bb1",value:"Orange"},{label:"\u7528\u6237\u88ab\u89e3\u9664\u9501\u5b9a",value:"Apple"},{label:"\u4fee\u6539\u7528\u6237\u4fe1\u606f",value:"Pear"},{label:"\u5220\u9664\u7528\u6237",value:"Orange"},{label:"\u7528\u6237\u88ab\u53d6\u6d88\u5f52\u6863",value:"Apple"},{label:"\u7528\u6237\u88ab\u9501\u5b9a",value:"Pear"},{label:"\u7528\u6237\u793e\u4ea4\u8d26\u53f7\u7ed1\u5b9a",value:"Orange"}];function wn(){var e=be.Z.useForm(),n=(0,r.Z)(e,1)[0],t=(0,m.x)(""),s=(0,r.Z)(t,2),i=s[0],l=s[1],c=(0,m.x)(!1),o=(0,r.Z)(c,2),d=o[0],u=o[1],x=(0,m.x)(Zn),h=(0,r.Z)(x,2),f=h[0],j=h[1],b=[{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u89e6\u53d1\u4e8b\u4ef6",dataIndex:"triggerEvents",key:"triggerEvents",render:function(e){return(0,p.jsx)(p.Fragment,{children:e.map((function(e){return(0,p.jsx)(_n.default,{color:"#FA6400",children:e},e)}))})}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e){return(0,p.jsx)(Ce.Z,{checked:0==e,className:"".concat(Qe()["switch-edit-btn"]),size:"small",checkedChildren:"\u5f00",unCheckedChildren:"\u5173"})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",key:"create_time"},{title:"\u64cd\u4f5c",key:4,render:function(e){return(0,p.jsx)("span",{className:"pl-0 text-red-500",onClick:function(){u(!0)},children:"\u67e5\u770b\u8be6\u60c5"})}}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:Qe()["auth-head"],children:[(0,p.jsx)(Ie.Z,{}),(0,p.jsx)("span",{className:"ml-3",children:"webhook\u5141\u8bb8\u4f60\u5bf9\u7528\u6237\u6ce8\u518c\u3001\u767b\u5f55\u884c\u4e3a\u8fdb\u884c\u76d1\u542c\uff0c\u4ece\u800c\u5bf9\u5176\u505a\u4e00\u4e9b\u81ea\u5b9a\u4e49\u5904\u7406\uff0c\u70b9\u6b64"})]}),(0,p.jsx)("span",{className:"text-red-500 ml-2",children:"\u4e86\u89e3\u66f4\u591a"})]}),(0,p.jsx)(a.default,{className:"px-4 py-0 h-7.5",onClick:function(){u(!0)},children:(0,p.jsx)("span",{className:"text-sm text-gray",children:"\u6dfb\u52a0"})})]}),(0,p.jsx)(L.Z,{mask:!1,title:"\u6dfb\u52a0webhook",style:{top:"200px"},bodyStyle:{width:"549px",height:"480px",overflow:"auto",margin:"10px auto"},width:549,transitionName:"",visible:d,onOk:function(){return u(!1)},onCancel:function(){return u(!1)},okText:(0,p.jsx)(a.default,{className:Qe()["save-btn"],onClick:function(){return n.submit()},children:(0,p.jsx)("span",{children:"\u786e\u5b9a"})}),okType:"text",cancelText:"\u53d6\u6d88",children:(0,p.jsxs)(be.Z,{name:"hooksList",form:n,labelCol:{span:6},wrapperCol:{span:18},initialValues:{remember:!0},onFinish:function(e){!function(e){j(f.concat(Nn(Nn({},e),{},{key:f.length+1})))}(e)},autoComplete:"off",labelAlign:"left",className:Qe()["dialog-form"],children:[(0,p.jsx)(be.Z.Item,{label:"\u540d\u79f0",name:"name",rules:[{required:!0,message:"\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,p.jsx)(je.default,{})}),(0,p.jsx)(be.Z.Item,{label:"\u56de\u8c03\u94fe\u63a5",name:"triggerEvents",rules:[{required:!0,message:"\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,p.jsx)(je.default,{})}),(0,p.jsx)(be.Z.Item,{label:"\u8bf7\u6c42\u6570\u636e\u683c\u5f0f",name:"triggerEvents",rules:[{required:!0,message:"\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,p.jsxs)(en.default.Group,{onChange:function(e){return function(e){l(e)}(e.target.value)},value:i,children:[(0,p.jsx)(en.default,{value:1,className:"mr-180",children:"\u9759\u6001"}),(0,p.jsx)(en.default,{value:2,children:"\u52a8\u6001"})]})}),(0,p.jsx)(be.Z.Item,{label:"\u8bf7\u6c42\u5bc6\u94a5",name:"triggerEvents",rules:[{required:!0,message:"\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,p.jsx)(je.default,{})}),(0,p.jsx)(be.Z.Item,{label:"\u89e6\u53d1\u4e8b\u4ef6",name:"triggerEvents",rules:[{required:!0,message:"\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a"}],children:(0,p.jsx)(we.default.Group,{options:kn})})]})}),(0,p.jsx)("div",{className:Qe()["role-container-table"],children:f.length>0?(0,p.jsx)(E.Z,{columns:b,dataSource:f,rowClassName:function(e,n){return n%2===1?Qe()["role-table"]:""},pagination:!1}):(0,p.jsx)(E.Z,{columns:b,dataSource:[],rowClassName:function(e,n){return n%2===1?Qe()["role-table"]:""},pagination:!1})})]})}var Cn=(0,p.jsx)(l.default,{items:[{key:"0",label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.Z,{className:"mr-2"}),(0,p.jsx)("span",{children:"\u9501\u5b9a\u8d26\u53f7"})]})},{key:"1",label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{type:"icon-shanchu",className:"mr-2"}),(0,p.jsx)("span",{children:"\u5220\u9664\u8d26\u53f7"})]})},{key:"2",label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{className:"mr-2"}),(0,p.jsx)("span",{children:"\u5f3a\u5236\u4e0b\u7ebf"})]})}]});function In(e){var n=e.content,t=e.showTopType,l=e.showBottomType,c=e.handleTopToggleDesigner,o=(0,m.x)(""),j=(0,r.Z)(o,2),b=j[0],g=j[1],y=(0,m.x)(""),N=(0,r.Z)(y,2),Z=N[0],k=N[1],w=(0,u.useContext)(x.oP).authUserCurr,C=function(){console.log("handleIconClick")};return(0,u.useEffect)((function(){switch(t){case"outline":k("\u6982\u89c8"),g((0,p.jsx)(f,{}));break;case"userManage":k("\u7528\u6237\u7ba1\u7406"),g((0,p.jsx)(hn.Z,{handleTopToggleDesigner:c}));break;case"userDetails":k("\u7528\u6237\u8be6\u60c5"),g((0,p.jsx)(gn,{}));break;case"roleManage":k("\u89d2\u8272\u7ba1\u7406"),g((0,p.jsx)(xn,{}));break;case"log":k("\u64cd\u4f5c\u65e5\u5fd7"),g((0,p.jsx)(f,{}));break;case"login":k("\u767b\u5165\u4f53\u9a8c"),g((0,p.jsx)(Re,{handleTopToggleDesigner:c}));break;case"connect":k("\u8fde\u63a5\u5668"),g((0,p.jsx)(ne,{handleTopToggleDesigner:c}));break;case"connectDetails":k("\u8fde\u63a5\u5668\u8be6\u60c5"),g((0,p.jsx)(pe,{handleTopToggleDesigner:c}));break;case"webhooks":k("webhooks"),g((0,p.jsx)(wn,{}));break;case"db":k("\u6570\u636e\u5e93"),g((0,p.jsx)($e,{}));break;default:g((0,p.jsx)(h.Z,{}))}}),[t]),(0,u.useEffect)((function(){if(n)switch(l){case"data":k("\u8eab\u4efd\u9a8c\u8bc1"),g((0,p.jsx)(Xe,{content:n}));break;case"edit":k("\u8eab\u4efd\u9a8c\u8bc1"),g((0,p.jsx)(cn,{content:n}));break;default:g((0,p.jsx)(p.Fragment,{}))}}),[l,n]),(0,p.jsxs)("div",{className:"pl-6 pr-6 mt-6",children:["userDetails"!==t?(0,p.jsxs)("div",{className:"flex justify-start items-center mb-5 ",children:[(0,p.jsxs)("span",{className:"text-lg flex-grow font-bold",children:["\u8eab\u4efd\u9a8c\u8bc1",(0,p.jsxs)("span",{className:"text-base flex-grow font-bold",children:[(0,p.jsx)(d.Z,{})," ",Z]})]}),(0,p.jsx)(v.Z,{type:"icon-lianxi",className:"text-[22px]",onClick:C}),(0,p.jsx)(v.Z,{type:"icon-wenjian1",className:"text-[22px] ml-4",onClick:C}),(0,p.jsx)(v.Z,{type:"icon-bangzhu",className:"text-[22px] ml-4",onClick:C})]}):(0,p.jsxs)("div",{className:"flex justify-between items-center mt-9 mb-5",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(i.Z,{src:"/assets/auth.svg",alt:"\u5934\u50cf",width:45,height:45,preview:!1}),(0,p.jsxs)("div",{className:"ml-2 ".concat(_()["user-info"]),children:[(0,p.jsx)("span",{children:w.name}),(0,p.jsxs)("p",{children:["ID\uff1a",w.id]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(s.default,{overlay:Cn,placement:"bottom",children:(0,p.jsx)(a.default,{className:"".concat(_()["connect-check-btn-common"]," w-15 ml-4"),children:(0,p.jsx)("span",{className:"text-sm text-gray",children:"\u66f4\u591a"})})}),(0,p.jsx)(a.default,{className:"".concat(_()["save-btn"]," ml-4"),children:"\u91cd\u7f6e\u5bc6\u7801"})]})]}),b]})}t(47418);var Sn=t(84283),Dn=t(58784),Tn=(t(517),t(37608)),En=t(522),Pn=t(93546),Fn=t(1630);function On(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function Ln(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?On(Object(t),!0).forEach((function(n){(0,N.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):On(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Mn(e){var n=e.authItem,t=e.onClickItem,a=(0,m.x)(""==n.name),i=(0,r.Z)(a,2),c=i[0],o=i[1],d=(0,m.x)(!1),h=(0,r.Z)(d,2),f=h[0],j=h[1],b=(0,u.useContext)(x.k8),g=(0,u.useContext)(x.rW).currAuthProvItemId,y=(0,u.useContext)(x.Mp).handleBottomToggleDesigner,N=(0,m.x)(!1),Z=(0,r.Z)(N,2),k=Z[0],w=Z[1],C=n.config;function I(e){return S.apply(this,arguments)}function S(){return(S=(0,se.Z)(ie().mark((function e(t){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}b({type:"deleted",data:n}),e.next=7;break;case 4:return e.next=6,D.Z.put("/auth",Ln(Ln({},n),{},{name:t,config:Ln(Ln({},C),{},{id:t})}));case 6:D.Z.get("/auth").then((function(e){b({type:"fetched",data:e})}));case 7:o(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=(0,se.Z)(ie().mark((function e(n){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Z.delete("/auth/".concat(n.id));case 2:e.sent,b({type:"deleted",data:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){0==e&&(w(!1),j(!1))}var P=(0,p.jsx)(l.default,{onClick:function(e){e.domEvent.stopPropagation(),"1"!==e.key&&"2"!==e.key||j(!1)},items:[{key:"1",label:(0,p.jsxs)("div",{onClick:function(){return o(!c)},children:[(0,p.jsx)(v.Z,{type:"icon-zhongmingming"}),(0,p.jsx)("span",{className:"ml-1.5",children:"\u91cd\u547d\u540d"})]})},{key:"2",label:(0,p.jsxs)("div",{onClick:function(){return y("edit",n.id)},children:[(0,p.jsx)(v.Z,{type:"icon-bianji"}),(0,p.jsx)("span",{className:"ml-1.5",children:"\u914d\u7f6e"})]})},{key:"3",label:(0,p.jsx)(Tn.Z,{placement:"right",title:"\u786e\u8ba4\u5220\u9664\u8be5\u6587\u4ef6\u5417\uff1f",onConfirm:function(){!function(e){T.apply(this,arguments)}(n)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88",onCancel:function(){return j(!1)},overlayClassName:_()["delete-label"],okType:"danger",children:(0,p.jsxs)("div",{children:[(0,p.jsx)(v.Z,{type:"icon-a-shanchu2"}),(0,p.jsx)("span",{className:"ml-1.5",children:"\u5220\u9664"})]})})}]});return(0,p.jsxs)("div",{className:'flex justify-between items-center py-2.5 pl-4 "\n      '.concat(n.id===g?"bg-[#F8F8F9]":""),style:k?{background:"#F8F8F9"}:{},onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return E(f)},onDoubleClick:function(){return o(!0)},onClick:function(){t(n)},children:[(0,p.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,p.jsx)(En.Z,{className:"-ml-4 mr-2",style:{visibility:k?"visible":"hidden"}}),(0,p.jsx)(Pn.Z,{className:"mr-2"}),c?(0,p.jsx)(je.default,{onBlur:function(e){I(e.target.value)},onPressEnter:function(e){I(e.target.value)},onKeyUp:function(e){"Escape"==e.key&&o(!1)},className:"text-sm font-normal leading-4 h-5 w-5/7 pl-0.5",defaultValue:n.name,autoFocus:!0,placeholder:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546ID"}):(0,p.jsx)("div",{className:"text-sm font-normal leading-4",children:n.name})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-[#AFB0B4] text-[14px] mr-3",children:n.authSupplier||"null"}),(0,p.jsx)(s.default,{overlay:P,trigger:["click"],placement:"bottomRight",visible:f,onVisibleChange:function(e){j(e),E(e)},children:(0,p.jsx)(Fn.Z,{onClick:function(e){return e.stopPropagation()},className:"m-auto mr-0 pr-2",style:{visibility:k?"visible":"hidden"}})})]})]},n.name)}var Wn=Sn.Z.Panel,An={name:"\u7528\u6237\u7ba1\u7406",type:"userManage"},Bn=[{name:"\u6982\u89c8",type:"outline"},{name:"\u7528\u6237",type:"title"},{name:"\u7528\u6237\u7ba1\u7406",type:"userManage"},{name:"\u89d2\u8272\u7ba1\u7406",type:"roleManage"},{name:"\u901a\u7528",type:"title"},{name:"\u767b\u5165\u4f53\u9a8c",type:"login"},{name:"\u8fde\u63a5\u5668",type:"connect"},{name:"\u8bbe\u7f6e",type:"title"},{name:"\u6570\u636e\u5e93",type:"db"}];function Hn(e){var n=e.onClickItem,t=e.handleTopToggleDesigner,s=(0,u.useContext)(x.Vo),a=(0,u.useContext)(x.k8),i=(0,m.x)([]),l=(0,r.Z)(i,2),c=l[0],o=l[1],d=(0,m.x)("userManage"),h=(0,r.Z)(d,2),f=h[0],j=h[1];return(0,u.useEffect)((function(){t(An)}),[]),(0,p.jsxs)("div",{className:"relative h-200",children:[(0,p.jsx)("div",{className:"border-gray border-b ",children:(0,p.jsx)("div",{className:"".concat(_().title," text-lg font-bold mt-6 ml-4 mb-8"),children:"\u8eab\u4efd\u9a8c\u8bc1"})}),Bn.map((function(e){return"title"===e.type?(0,p.jsx)("h2",{className:"ml-6 mt-3.5 text-[#AFB0B4] text-12px",children:e.name}):(0,p.jsx)("div",{className:"pl-8 py-2.5 cursor-pointer hover:bg-[#F8F8F9] ".concat(e.type===f?"bg-[#F8F8F9]":""),onClick:function(){j(e.type),t(e)},children:(0,p.jsx)("div",{className:"text-[#000000] h-4 leading-4",children:e.name})})})),(0,p.jsx)("div",{className:"mt-3 absolute w-full bottom-1 h-50",style:{overflow:"auto"},children:(0,p.jsx)(Sn.Z,{ghost:!0,bordered:!0,activeKey:c,onChange:function(e){return o(e)},children:(0,p.jsx)(Wn,{header:"\u5176\u4ed6\u4f9b\u5e94\u5546",extra:(0,p.jsx)(Dn.Z,{onClick:function(e){e.stopPropagation(),o(c.concat("1")),function(){var e={id:-(s.length+1),name:"",authSupplier:"openid",switchState:[],config:"2"};a({type:"added",data:e}),n(e)}()}}),children:s.map((function(e){if(""!=e.name)return(0,p.jsx)(Mn,{authItem:e,onClickItem:n},e.id)}))},"1")})})]})}},31774:function(e,n,t){"use strict";t.d(n,{Z:function(){return k}});t(84971);var s=t(68109),a=(t(14850),t(71887)),i=(t(38059),t(86742)),r=(t(3003),t(86690)),l=(t(68158),t(29094)),c=(t(61258),t(31333)),o=(t(517),t(37608)),d=(t(39150),t(27250)),u=t(95513),m=(t(29872),t(88050)),x=(t(85800),t(41503)),h=t(65371),p=t(79685),f=t(39986),j=t(61384),b=t(51917),v=t(86669),g=t(26052),_=t.n(g),y=t(63342),N=x.default.Search,Z=[{label:"\u7528\u6237\u540d",key:"1",children:(0,y.jsx)(m.Z.Item,{label:"\u7528\u6237\u540d",name:"name",rules:[{required:!0,message:"\u7528\u6237\u540d\u4e0d\u4e3a\u7a7a!"}],children:(0,y.jsx)(x.default,{})})},{label:"\u624b\u673a\u53f7",key:"2",children:(0,y.jsx)(m.Z.Item,{label:"\u624b\u673a\u53f7",name:"mobile",rules:[{required:!0,message:"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a!"}],children:(0,y.jsx)(x.default,{})})},{label:"\u90ae\u7bb1",key:"3",children:(0,y.jsx)(m.Z.Item,{label:"\u90ae\u7bb1",name:"email",rules:[{required:!0,message:"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a!"}],children:(0,y.jsx)(x.default,{})})}];function k(e){var n=e.handleTopToggleDesigner,t=m.Z.useForm(),g=(0,u.Z)(t,1)[0],k=(0,f.x)(!1),w=(0,u.Z)(k,2),C=w[0],I=w[1],S=(0,f.x)([]),D=(0,u.Z)(S,2),T=D[0],E=D[1],P=(0,p.useState)([]),F=P[0],O=P[1],L=(0,f.x)(1),M=(0,u.Z)(L,2),W=M[0],A=(M[1],(0,f.x)(!0)),B=(0,u.Z)(A,2),H=B[0],V=B[1],U=(0,p.useContext)(b.oP).setAuthUserCurr;(0,p.useEffect)((function(){(0,v.p)("/oauth",{currPage:W}).then((function(e){return E(e.userList)}))}),[H]);var J=[{title:"\u7528\u6237",dataIndex:"name",key:"name"},{title:"\u624b\u673a\u53f7",dataIndex:"mobile",key:"mobile"},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u72b6\u6001",key:"status",render:function(e,n){return n.status?(0,y.jsxs)("div",{className:"text-[#F79500]",children:[(0,y.jsx)(j.Z,{type:"icon-lock",className:"text-[10px] mr-1"}),(0,y.jsx)("span",{children:"\u9501\u5b9a"})]}):(0,y.jsxs)("div",{children:[(0,y.jsx)(d.Z,{status:"success"}),"\u6b63\u5e38"]})}},{title:"\u6700\u540e\u767b\u5165\u65f6\u95f4",dataIndex:"lastLoginTime",key:"lastLoginTime"},{title:"\u64cd\u4f5c",key:"action",render:function(e,n){return T.length>=1?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.Z,{title:n.status?"\u786e\u5b9a\u8981\u89e3\u9501":"\u786e\u5b9a\u8981\u9501\u5b9a",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:function(e){e.stopPropagation(),z(n)},onCancel:function(e){return e.stopPropagation()},children:(0,y.jsx)("a",{onClick:function(e){return e.stopPropagation()},children:n.status?"\u89e3\u9501":"\u9501\u5b9a"})}),(0,y.jsx)(o.Z,{title:"\u786e\u5b9a\u8981\u5220\u9664?",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:function(e){e.stopPropagation(),R([n.id])},onCancel:function(e){return e.stopPropagation()},children:(0,y.jsx)("a",{className:"ml-2",onClick:function(e){return e.stopPropagation()},children:"\u5220\u9664"})})]}):null}}],R=function(e){v.Z.delete("/oauth",{data:{ids:e}}).then((function(){return V(!H)}))},z=function(e){Array.isArray(e)?v.Z.put("/oauth/status",{ids:e,status:!1}).then((function(){return V(!H)})):v.Z.put("/oauth/status",{ids:[e.id],status:!e.status}).then((function(){return V(!H)}))},K={selectedRowKeys:F,onChange:function(e){O(e)}},G=F.length>0,q={showSizeChanger:!1,showQuickJumper:!1,pageSize:10,current:W,onChange:function(e){return function(e){(0,v.p)("/oauth",{currPage:e}).then((function(e){return E(e.userList)}))}(e)}};function Q(e){v.Z.post("/oauth/export",{ids:e}).then((function(e){console.log(e)}))}return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{className:"text-base text-gray mr-4",children:"\u7528\u6237\u5217\u8868"}),(0,y.jsx)("span",{className:_()["auth-head"],children:"\u5f53\u524d\u7528\u6237\u6c60\u7684\u6240\u6709\u7528\u6237\uff0c\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u5bf9\u7528\u6237"})]}),(0,y.jsx)(c.Z,{style:{margin:10}}),(0,y.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,y.jsx)(N,{placeholder:"\u641c\u7d22\u7528\u6237\u540d\u3001\u90ae\u7bb1\u6216\u624b\u673a\u53f7",style:{width:228,height:32},onSearch:function(e){(0,v.p)("/oauth",{search:e}).then((function(e){return E(e.userList)}))}}),(0,y.jsxs)("div",{className:"flex items-center mb-2",children:[(0,y.jsx)(l.default,{className:"".concat(_()["connect-check-btn-common"]," w-20 ml-4"),onClick:function(){return Q()},children:(0,y.jsx)("span",{className:"text-sm text-gray",children:"\u5bfc\u51fa\u5168\u90e8"})}),(0,y.jsx)(l.default,{className:"".concat(_()["connect-check-btn-common"]," w-16 ml-4"),children:(0,y.jsx)("span",{className:"text-sm text-gray",children:"\u5bfc\u5165"})}),(0,y.jsx)(l.default,{className:"".concat(_()["save-btn"]," ml-4"),onClick:function(){return I(!0)},children:(0,y.jsx)("span",{className:"text-sm text-gray",children:"\u521b\u5efa"})})]})]}),(0,y.jsx)(c.Z,{style:{margin:0}}),(0,y.jsx)(r.Z,{rowSelection:K,columns:J,dataSource:T,bordered:!0,size:"small",rowKey:function(e){return e.id},rowClassName:"cursor-pointer",onRow:function(e){return{onClick:function(){return function(e){U(e),n({name:"\u7528\u6237\u8be6\u60c5",type:"userDetails"})}(e)}}},pagination:q}),G?(0,y.jsxs)("div",{className:"flex border px-5 py-3 w-140",children:[(0,y.jsxs)("div",{className:_()["right-style"],children:["\u5df2\u9009\u62e9",(0,y.jsx)("span",{children:F.length}),"\u4e2a"]}),(0,y.jsxs)("div",{className:_()["btn-style"],children:[(0,y.jsx)(l.default,{className:"mr-2 ml-10 text-[#e92e5e]",icon:(0,y.jsx)(j.Z,{type:"icon-lock",className:"text-[16px]"}),onClick:function(){return z(F)},children:"\u9501\u5b9a"}),(0,y.jsx)(l.default,{className:"mr-2",icon:(0,y.jsx)(j.Z,{type:"icon-shanchu",className:"text-[16px]"}),onClick:function(){return R(F)},children:"\u5220\u9664"}),(0,y.jsx)(l.default,{icon:(0,y.jsx)(h.Z,{}),onClick:function(){return Q(F)},children:"\u5bfc\u51fa"}),(0,y.jsx)(c.Z,{type:"vertical",className:_()["modal-divider"]})]}),(0,y.jsx)(l.default,{children:"\u53d6\u6d88\u9009\u62e9"})]}):"",(0,y.jsx)(s.Z,{mask:!1,title:"\u521b\u5efa\u7528\u6237",style:{top:"200px"},width:549,bodyStyle:{height:"350px"},open:C,onOk:function(){g.submit()},onCancel:function(){return I(!1)},okText:(0,y.jsx)(l.default,{className:_()["save-btn"],onClick:function(){return g.submit()},children:(0,y.jsx)("span",{children:"\u786e\u5b9a"})}),okType:"text",cancelText:"\u53d6\u6d88",children:(0,y.jsxs)(m.Z,{name:"userList",form:g,labelCol:{span:5},wrapperCol:{span:17},initialValues:{remember:!0},onFinish:function(e){!function(e){console.log(e),v.Z.post("/oauth",e).then((function(){return V(!H)}))}(e)},autoComplete:"off",labelAlign:"right",className:"h-30 mt-8 ml-8",children:[(0,y.jsx)("div",{className:_()["tabs-style"],children:(0,y.jsx)(i.Z,{defaultActiveKey:"1",type:"card",items:Z})}),(0,y.jsx)(m.Z.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801!"}],children:(0,y.jsx)(x.default.Password,{})}),(0,y.jsx)(m.Z.Item,{label:"\u786e\u8ba4\u5bc6\u7801",name:"confirmPassword",rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801!"},function(e){var n=e.getFieldValue;return{validator:function(e,t){return t&&n("password")!==t?Promise.reject(new Error("\u5bc6\u7801\u4e0d\u4e00\u81f4!")):Promise.resolve()}}}],children:(0,y.jsx)(x.default.Password,{})}),(0,y.jsxs)(m.Z.Item,{name:"remember",valuePropName:"checked",children:[(0,y.jsx)("span",{className:"ml-10 mr-2",children:"\u53d1\u9001\u9996\u6b21\u767b\u5165\u5730\u5740"}),(0,y.jsx)(a.Z,{className:"".concat(_()["switch-edit-btn"]),size:"small"})]}),(0,y.jsxs)(m.Z.Item,{valuePropName:"checked",colon:!1,children:[(0,y.jsx)("span",{className:"ml-10 mr-2",children:"\u5f3a\u5236\u7528\u6237\u5728\u9996\u6b21\u767b\u5f55\u65f6\u4fee\u6539\u5bc6\u7801"}),(0,y.jsx)(a.Z,{className:"".concat(_()["switch-edit-btn"]),size:"small"})]})]})})]})}},61384:function(e,n,t){"use strict";var s=t(57265),a=(0,s.createFromIconfontCN)({scriptUrl:"/iconfont/iconfont.js"});n.Z=a},24294:function(e){e.exports={title:"Common_title__KFJJW",select:"Common_select__W_YgE",actions:"Common_actions__fR09C",manage:"Common_manage__Sjazt","option-icon":"Common_option-icon__mbjRZ","select-contain":"Common_select-contain___4C1q","delete-label":"Common_delete-label__p_xim","save-btn":"Common_save-btn__iHEIr","connect-check-btn-common":"Common_connect-check-btn-common__yy01g","user-info":"Common_user-info__hJDIV"}},95246:function(e){e.exports={"connector-item-wrapper-selected":"ConnectorItem_connector-item-wrapper-selected__6IR_t","connector-item-wrapper-unselected":"ConnectorItem_connector-item-wrapper-unselected__NWp2V","connector-item-wrapper-enabled":"ConnectorItem_connector-item-wrapper-enabled__2Sci0","connector-item-wrapper-unenabled":"ConnectorItem_connector-item-wrapper-unenabled__Josmz","connector-item-wrapper":"ConnectorItem_connector-item-wrapper__twj1v",enabled:"ConnectorItem_enabled__EBeYv",description:"ConnectorItem_description__Vz43_",icon:"ConnectorItem_icon__aM_4k",title:"ConnectorItem_title__z_s_Z",platform:"ConnectorItem_platform__vZd8C"}},5648:function(e){e.exports={"next-button":"ConnectorModal_next-button__FpaDo","modal-wrapper":"ConnectorModal_modal-wrapper__S0UrU"}},79344:function(e){e.exports={tableNotInUseWrapper:"MessageAndEmailConnector_tableNotInUseWrapper__l1Hl7",icon:"MessageAndEmailConnector_icon__DQ6TA",tableNameHeader:"MessageAndEmailConnector_tableNameHeader__bMQ0_",tableNameInUseWrapper:"MessageAndEmailConnector_tableNameInUseWrapper__y_YH7",tableNameEmailInUse:"MessageAndEmailConnector_tableNameEmailInUse__MCv4P",tableWrapper:"MessageAndEmailConnector_tableWrapper__zZNGs",unused:"MessageAndEmailConnector_unused__l_Sg2",headerWidth:"MessageAndEmailConnector_headerWidth__64mHQ",tableItemWidth:"MessageAndEmailConnector_tableItemWidth__4JGG6"}},76337:function(e){e.exports={socialContactConnectorWrapper:"SocialContactConnector_socialContactConnectorWrapper__NKfLn",addSocialButton:"SocialContactConnector_addSocialButton__KkRJc","table-header-name":"SocialContactConnector_table-header-name__e70De",tableWrapper:"SocialContactConnector_tableWrapper__r5Xvo",tableNameHeader:"SocialContactConnector_tableNameHeader__bP9_u",unused:"SocialContactConnector_unused__hGsGi",icon:"SocialContactConnector_icon__k_4CB",headerWidth:"SocialContactConnector_headerWidth__eZEVy",tableItemWidth:"SocialContactConnector_tableItemWidth__OMvOm"}},68259:function(e){e.exports={title:"connector_title__lchIT",titlePlaceholder:"connector_titlePlaceholder___L9q5",tabStyle:"connector_tabStyle__q0DDD"}},82261:function(e){e.exports={return:"connectorDetails_return__fztPc",header:"connectorDetails_header__ToZxF",headerLeft:"connectorDetails_headerLeft__Drl_i",icon:"connectorDetails_icon__kvsxm",headerIcon:"connectorDetails_headerIcon__bJ366",titleWrapper:"connectorDetails_titleWrapper__sLeMG",subHeading:"connectorDetails_subHeading___o8uW",h1:"connectorDetails_h1__3Jhwh",titleType:"connectorDetails_titleType__Kacml",status:"connectorDetails_status__SgY8w",buttonGroup:"connectorDetails_buttonGroup__cICP6",content:"connectorDetails_content__xBjXy",contentHeader:"connectorDetails_contentHeader__sGTj5",contentJson:"connectorDetails_contentJson__xR_rT",mailTest:"connectorDetails_mailTest__e5ez7",inputWrapper:"connectorDetails_inputWrapper__KYGQl",saveButton:"connectorDetails_saveButton__LJdgy",id:"connectorDetails_id__CVbn7",moreContent:"connectorDetails_moreContent__2JTNw","ant-popover-arrow":"connectorDetails_ant-popover-arrow__4bDMr"}},19905:function(e){e.exports={experiencePreviewWrapper:"ExperiencePreview_experiencePreviewWrapper__cFk90",experiencePreviewTitle:"ExperiencePreview_experiencePreviewTitle__bq_jw",experiencePreviewTitleLeft:"ExperiencePreview_experiencePreviewTitleLeft__sz9NQ",experiencePreviewTitleRight:"ExperiencePreview_experiencePreviewTitleRight__YBZ3r",experiencePreviewDetailContent:"ExperiencePreview_experiencePreviewDetailContent__c0GRh",tabStyle:"ExperiencePreview_tabStyle__3FSG8"}},99051:function(e){e.exports={experienceSettingWrapper:"ExperienceSetting_experienceSettingWrapper__LVK4u",title:"ExperienceSetting_title__0tS86",mainLogin:"ExperienceSetting_mainLogin__zDkwO",mainLoginTitle:"ExperienceSetting_mainLoginTitle__EYXoL",otherLogin:"ExperienceSetting_otherLogin__TZRMn",otherLoginTitle:"ExperienceSetting_otherLoginTitle__X0PUG",otherLoginExplain:"ExperienceSetting_otherLoginExplain___lQdr",passwordLogin:"ExperienceSetting_passwordLogin__ChrIR",checkboxLabel:"ExperienceSetting_checkboxLabel__SGJa2",loginItemWrapper:"ExperienceSetting_loginItemWrapper__nri3Z",passwordLoginSubHeading:"ExperienceSetting_passwordLoginSubHeading__C1OHu",loginItemSubHeading:"ExperienceSetting_loginItemSubHeading__rZ0tp",mainLoginHint:"ExperienceSetting_mainLoginHint__MwWb9",saveWrapper:"ExperienceSetting_saveWrapper__86B05",save:"ExperienceSetting_save__vMtXX"}},35394:function(e){e.exports={transferWrapper:"SocialContactTransfer_transferWrapper__gJlW6",transferItem:"SocialContactTransfer_transferItem__ehW8I"}},26052:function(e){e.exports={"save-btn":"subs_save-btn__bS7JI","center-btn":"subs_center-btn__MXXuk","switch-check-btn":"subs_switch-check-btn__MzcZj","add-btn":"subs_add-btn__Qy3Fu","switch-set-btn":"subs_switch-set-btn__e975E","form-delete-icon":"subs_form-delete-icon__PdA0G","form-item-icon":"subs_form-item-icon__I5477","role-container-table":"subs_role-container-table__Gnsr5","role-table":"subs_role-table__wK50F","edit-form-contain":"subs_edit-form-contain__8N2Ur","db-check-setting":"subs_db-check-setting__uo385","auth-head":"subs_auth-head__cZfy3","auth-btn":"subs_auth-btn__H2RCK","switch-edit-btn":"subs_switch-edit-btn__Gt1rf","form-contain":"subs_form-contain__r5La7",monaco:"subs_monaco__OvGtx","monaco-edit":"subs_monaco-edit__EvII4","connect-check-btn-common":"subs_connect-check-btn-common__0d6Aw","tabs-style":"subs_tabs-style__ZHYSb","right-style":"subs_right-style__XF2AN","btn-style":"subs_btn-style__QwEPJ","modal-divider":"subs_modal-divider__9zfJp","dialog-form":"subs_dialog-form__Iggxz","user-info":"subs_user-info__4rI9_","form-style":"subs_form-style__grC5Z","mid-word":"subs_mid-word___yO0h","right-word":"subs_right-word__qn_yo","ant-picker-input":"subs_ant-picker-input___vxTa"}}}]);